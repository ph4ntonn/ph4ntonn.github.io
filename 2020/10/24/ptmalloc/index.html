<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>ptmalloc机制闲扯 | ph4ntom&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="本篇主要闲扯一下ptmalloc机制中一些需要注意的点">
<meta property="og:type" content="article">
<meta property="og:title" content="ptmalloc机制闲扯">
<meta property="og:url" content="http://yoursite.com/2020/10/24/ptmalloc/index.html">
<meta property="og:site_name" content="ph4ntom&#39;s blog">
<meta property="og:description" content="本篇主要闲扯一下ptmalloc机制中一些需要注意的点">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/struct.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/beforemalloc-code.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/beforemalloc-tcache.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/aftermalloc-tcache.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/oriheap.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/unpack.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/unpack-1.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/unpack-2.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/firstchange.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/unpack-3.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/secondchange.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/unpack-4.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/final.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/afterfree.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/nah.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/aaa.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/mallocstate.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/mallocstatemem.jpg">
<meta property="og:image" content="http://yoursite.com/image/ptmalloc/unsortedbins.jpg">
<meta property="article:published_time" content="2020-10-24T13:40:30.000Z">
<meta property="article:modified_time" content="2020-11-25T10:31:57.745Z">
<meta property="article:author" content="ph4ntom">
<meta property="article:tag" content="binary">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/image/ptmalloc/struct.jpg">
  
    <link rel="alternate" href="/atom.xml" title="ph4ntom&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">ph4ntom&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-ptmalloc" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/10/24/ptmalloc/" class="article-date">
  <time datetime="2020-10-24T13:40:30.000Z" itemprop="datePublished">2020-10-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/">二进制安全</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ptmalloc机制闲扯
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="三个标志位"><a href="#三个标志位" class="headerlink" title="三个标志位"></a>三个标志位</h1><p>熟悉ptmalloc的都知道在ptmalloc分配的chunk header中的size部分有三bit标志位，分别为NON_MAIN_ARENA，IS_MAPPED，PREV_INUSE，这也算是ptmalloc的特征</p>
<p>分别讲讲这三个标志位吧，首先是NON_MAIN_ARENA，要讲这个标志位，那就要先知道什么是main_arena.</p>
<p>main_arena指程序主线程所申请并占据的内存空间，一般这个值为132kb，ptmalloc在程序主线程启动后向内核申请长度为132kb的堆空间，并将此堆空间作为此程序的main_arena,由ptmalloc来对其进行管理</p>
<p>那么很显而易见的，NON_MAIN_ARENA指的就是当前堆块是否是在main_arena，0=no,1=yes</p>
<p>再来讲讲IS_MAPPED这个标志位，这个标志位也很明显，表示此堆块是否为mmap分配，0=no，1=yes</p>
<p>最后看看PREV_INUSE，乍一看是表示前一个堆块是否处于被allocated的状态，其实没错(笑)，就是这个意思，但要注意的一点是，这里指的前一个堆块是指物理地址上adajcent的堆块，而不是类似fastbins，tcachebins的链表上的堆块</p>
<p>另外PREV_INUSE也可以作为堆块合并的参照之一，当其为0时，chunk header中的prev_size就是有效的，系统可以通过prev_size的值获得前一块堆块的长度(为1时不可，原因下面会说)</p>
<h1 id="PREV-SIZE"><a href="#PREV-SIZE" class="headerlink" title="PREV_SIZE"></a>PREV_SIZE</h1><p>在chunk header中，除了三个标志位，还有一个地方需要关注，那就是第一个8(64位系统)字节的值，这个值代表了上一个堆块的长度，但是这个值仅当当前堆块的PREV_INUSE标志位为0时才有效</p>
<p>那么为啥PREV_INUSE为1时无效呢</p>
<p>主要是因为ptmalloc有一个特殊的机制，就是当前一个堆块处于allocated状态时，其可以“借用”当前堆块的PREV_SIZE所占据的空间(64位系统上为8字节)，这也是ptmalloc内存空间复用的一种手段，减少内存消耗</p>
<p>其实一开始我觉得很奇怪且无法理解，因为在64位系统上分配堆空间时，需要16字节对齐，而如果又可以借用8字节，那么岂不是违反了内存对齐的规定(其实是把自己绕进去了hh，现在写下来觉得自己挺傻的)</p>
<p>然而其实你可以把它看作一个约定，即分配堆空间时仍然遵循内存对齐的规则，但是也允许额外“溢出”一点空间，这里的溢出由ptmalloc保证不会出现异常</p>
<p>看个例子可能更好理解</p>
<p>这是一个结构体</p>
<p><img src="/image/ptmalloc/struct.jpg" alt="struct"></p>
<p>准备位这个结构体分配堆空间</p>
<p><img src="/image/ptmalloc/beforemalloc-code.jpg" alt="beforemalloc-code"></p>
<p>为这个结构体分配堆空间之前，tcache的情况</p>
<p><img src="/image/ptmalloc/beforemalloc-tcache.jpg" alt="beforemalloc-tcache"></p>
<p>分配堆空间之后，tcache的情况</p>
<p><img src="/image/ptmalloc/aftermalloc-tcache.jpg" alt="aftermalloc-tcache"></p>
<p>此时其实msg_moduleinit这个指针已经指向了位于0x55555575ecb0的堆空间(没截图，但从tcache上可以看出来)，但是，如果细心一点你会发现，msg_moduleinit的结构体类型应当占用的堆空间为4+4+8+8+16=40字节(16是chunk header的长度)</p>
<p>但是从tcache中我们可以看到位于0x55555575ecb0的堆空间只有0x20，32字节大小，那就很奇怪，咋少了8个字节呢？</p>
<p>不急，慢慢看下去</p>
<p>这是分配后，msg_moduleinit指向的堆空间情况</p>
<p><img src="/image/ptmalloc/oriheap.jpg" alt="oriheap"></p>
<p>跟进unpack_moduledatainitreq_mess函数</p>
<p><img src="/image/ptmalloc/unpack.jpg" alt="unpack"></p>
<p>这里将msg_moduleinit传入了unpack_moduledatainitreq_mess函数</p>
<p>跟进unpack_moduledatainitreq_mess函数</p>
<p><img src="/image/ptmalloc/unpack-1.jpg" alt="unpack-1"></p>
<p>可以看到这里一波操作，将ntohl(*(uint32_t *)statusBuff)的值赋给了mess结构体的Status(就是msg_moduleinit的Status，为了叙述方便，后面改用msg_moduleinit来指代)</p>
<p>之后继续看下去</p>
<p><img src="/image/ptmalloc/unpack-2.jpg" alt="unpack-2"></p>
<p>又是一波操作，将值赋给了msg_moduleinit的ModuleNameLen</p>
<p>此时msg_moduleinit所指向的堆空间已经变为了如下这样</p>
<p><img src="/image/ptmalloc/firstchange.jpg" alt="firstchange"></p>
<p>可以看到低位的八个字节已经被重新赋值为了新的Status以及ModuleNameLen的值(分别为十进制的1和13)</p>
<p>继续</p>
<p><img src="/image/ptmalloc/unpack-3.jpg" alt="unpack-3"></p>
<p>操作一波，将moduleNameBuff所指向的地址赋值给msg_moduleinit的ModuleName指针</p>
<p>此时msg_moduleinit所指向的堆空间已经变为了如下这样</p>
<p><img src="/image/ptmalloc/secondchange.jpg" alt="secondchange"></p>
<p>可以看到0x55555575ecb8-0x55555575ecc0的八个字节已经被赋值为了moduleNameBuff所指向的地址</p>
<p>到这里，ptmalloc分配的0x20长度的堆空间已经霍霍完了，但是还有一个Size(占8个字节)无处安放，那它会被放在哪里呢？</p>
<p>Move on</p>
<p><img src="/image/ptmalloc/unpack-4.jpg" alt="unpack-4"></p>
<p>可以看到这里操作了一波，将htobe64(*(uint64_t *)sizeBuff)的值赋给了msg_moduleinit的Size</p>
<p>此时msg_moduleinit指向的堆空间如下</p>
<p><img src="/image/ptmalloc/final.jpg" alt="final"></p>
<p>可以看见，代表msg_moduleinit的Size的八个字节，“溢出”了原本ptmalloc分配给msg_moduleinit的0x20长度，占据了下一个堆块的prev_size的空间，奇特，但合法 XD</p>
<p>并且，哪怕将msg_moduleinit给free了之后，被“溢出”的8个字节也并不会变为原本应该标示的，msg_moduleinit所指向的堆块的长度(即prev_size本身应该表示的东西)</p>
<p><img src="/image/ptmalloc/afterfree.jpg" alt="afterfree"></p>
<p>上图中53行已经free掉了msg_moduleinit，free完之后，msg_moduleinit所指向的堆空间以及其后一个堆空间的情况如下图所示</p>
<p><img src="/image/ptmalloc/nah.jpg" alt="nah"></p>
<p>可以看到，msg_moduleinit所指向的堆空间的下一个堆空间的prev_size并没有在msg_moduleinit被释放后被修改为msg_moduleinit所指向的堆空间的长度，而是仍然保持值“溢出”时0x00000000000032b0的值</p>
<p>然而按规定，当前一个堆块被free后，当前堆块的prev_size应该要变为前一个堆块的长度，且将PREV_INUSE置零</p>
<p>出现这种现象是因为tcachebins与fastbins有一个特点，就是放入这两个bins的堆块不会被标记为空闲，PREV_INUSE不会被置零，而是一直保持着allocated的状态，并且也不会主动合并空闲堆块</p>
<p>从tcache的情况也可以看出这个特点</p>
<p><img src="/image/ptmalloc/aaa.jpg" alt="aaa"></p>
<p>可以看到，虽然0x55555575ecb0和0x55555575ecd0这两个堆块物理上相邻，且0x55555575ecb0刚刚被释放(就是msg_moduleinit所指向的堆块),但是此时0x55555575ecd0堆块上的PREV_INUSE标志位仍然置1，而不是我们想象中的0</p>
<p>所以这里被“溢出”的，本来表示前一堆块的prev_size的值并没有改变，而是继续保留原来“溢出”后的值</p>
<h1 id="头chunk"><a href="#头chunk" class="headerlink" title="头chunk"></a>头chunk</h1><p>除了fastbins以及tcachebins以外，small、big、unsorted这几个bins都是由双向链表组成的，而双向链表的头chunk结构当然也需要研究一番</p>
<p>首先bins的所有状态都会被记录在malloc_state这个结构体中，结构体如下(NBINS为128)：</p>
<p><img src="/image/ptmalloc/mallocstate.jpg" alt="mallocstate"></p>
<p>malloc_state在内存中部分分布状况：</p>
<p><img src="/image/ptmalloc/mallocstatemem.jpg" alt="mallocstatemem"></p>
<p>根据结构体构成来看</p>
<p>0x7ffff7dcfc40-0x7ffff7dcfc48为__libc_lock_define (, mutex)占据,该变量用于控制程序串行访问同一个分配区，当一个线程获取了分配区之后，其它线程要想访问该分配区，就必须等待该线程分配完成后才能够使用。</p>
<p>0x7ffff7dcfc48-0x7ffff7dcfc50为flag,其记录了分配区的一些标志，比如 bit0 记录了分配区是否有 fast bin chunk ，bit1 标识分配区是否能返回连续的虚拟地址空间。具体如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">   FASTCHUNKS_BIT held in max_fast indicates that there are probably</span><br><span class="line">   some fastbin chunks. It is set true on entering a chunk into any</span><br><span class="line">   fastbin, and cleared only in malloc_consolidate.</span><br><span class="line">   The truth value is inverted so that have_fastchunks will be true</span><br><span class="line">   upon startup (since statics are zero-filled), simplifying</span><br><span class="line">   initialization checks.</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">#define FASTCHUNKS_BIT (1U)</span><br><span class="line"></span><br><span class="line">#define have_fastchunks(M) (((M)-&gt;flags &amp; FASTCHUNKS_BIT) &#x3D;&#x3D; 0)</span><br><span class="line">#define clear_fastchunks(M) catomic_or(&amp;(M)-&gt;flags, FASTCHUNKS_BIT)</span><br><span class="line">#define set_fastchunks(M) catomic_and(&amp;(M)-&gt;flags, ~FASTCHUNKS_BIT)</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">   NONCONTIGUOUS_BIT indicates that MORECORE does not return contiguous</span><br><span class="line">   regions.  Otherwise, contiguity is exploited in merging together,</span><br><span class="line">   when possible, results from consecutive MORECORE calls.</span><br><span class="line">   The initial value comes from MORECORE_CONTIGUOUS, but is</span><br><span class="line">   changed dynamically if mmap is ever used as an sbrk substitute.</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">#define NONCONTIGUOUS_BIT (2U)</span><br><span class="line"></span><br><span class="line">#define contiguous(M) (((M)-&gt;flags &amp; NONCONTIGUOUS_BIT) &#x3D;&#x3D; 0)</span><br><span class="line">#define noncontiguous(M) (((M)-&gt;flags &amp; NONCONTIGUOUS_BIT) !&#x3D; 0)</span><br><span class="line">#define set_noncontiguous(M) ((M)-&gt;flags |&#x3D; NONCONTIGUOUS_BIT)</span><br><span class="line">#define set_contiguous(M) ((M)-&gt;flags &amp;&#x3D; ~NONCONTIGUOUS_BIT)</span><br><span class="line"></span><br><span class="line">&#x2F;* ARENA_CORRUPTION_BIT is set if a memory corruption was detected on the</span><br><span class="line">   arena.  Such an arena is no longer used to allocate chunks.  Chunks</span><br><span class="line">   allocated in that arena before detecting corruption are not freed.  *&#x2F;</span><br><span class="line"></span><br><span class="line">#define ARENA_CORRUPTION_BIT (4U)</span><br><span class="line"></span><br><span class="line">#define arena_is_corrupt(A) (((A)-&gt;flags &amp; ARENA_CORRUPTION_BIT))</span><br><span class="line">#define set_arena_corrupt(A) ((A)-&gt;flags |&#x3D; ARENA_CORRUPTION_BIT)</span><br></pre></td></tr></table></figure>

<p>0x7ffff7dcfc50-0x7ffff7dcfca0为fastbins的头节点数组</p>
<p>0x7ffff7dcfca0-0x7ffff7dcfca8为top chunk的起始地址</p>
<p>0x7ffff7dcfca8-0x7ffff7dcfcb0为last remainder的起始地址</p>
<p>0x7ffff7dcfcb0之后则为bins数组，里面存储了所有small、big、unsorted bins的头节点信息</p>
<p>这里要注意一点就是，这里的头节点与可分配的堆块节点不同，这里的头节点只是双向链表的起点，在malloc的时候分配的都是头节点指向的下一个节点及之后的节点，头节点永远指向可分配堆块的第一块以及最后一块</p>
<p>此时unsortedbins的情况：</p>
<p><img src="/image/ptmalloc/unsortedbins.jpg" alt="unsortedbins"></p>
<p>这里还要注意的一个地方就是，unsortedbins占据bin数组的下标为1处，即0x7ffff7dcfcb0-0x7ffff7dcfcc0</p>
<p>small bins占据62个，largebins占据63个</p>
<p>可以从上图以及malloc_state分布状况中看出，unsortedbins头节点已经标示了第一个待分配堆块的地址0x0000555555756870，同时标示了最后一个待分配堆块的地址0x0000555555756250</p>
<p>综上可以看出，每一条bins链的头节点结构与普通的堆块节点结构是不相同的，这里有一个解释( <a target="_blank" rel="noopener" href="https://ctf-wiki.github.io/ctf-wiki/pwn/linux/glibc-heap/heap_structure-zh/#chunk">https://ctf-wiki.github.io/ctf-wiki/pwn/linux/glibc-heap/heap_structure-zh/#chunk</a> ),但我私以为其中的解释有些许绕，并且也不是prev_size和size重用的问题</p>
<p>实际上头节点的构造与普通堆块的构造本来就不相同，普通堆块的prev_size以及size这两个区域在头节点这里本身就没有实现。</p>
<p>所以如果要操作头节点，务必不能误以为其结构与普通堆节点相同，从而去操作其prev_size以及size的值，因为从内存分布的角度来看，头节点的prev_size和size实际上是top chunk以及last remainder的内存位置(unsortedbins)，或者就是前一条bin链的头节点结构(small、largebins)，<br>随意操作将会导致malloc_state结构错乱，发生不可预期的错误</p>
<h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>learn pwn,and be well</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/10/24/ptmalloc/" data-id="ckhx9966e000sar5y2reffufy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/binary/" rel="tag">binary</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/11/11/bypass-Canary/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          bypass Canary
        
      </div>
    </a>
  
  
    <a href="/2020/10/23/Double-free/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Double free</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/WEB%E5%AE%89%E5%85%A8/">WEB安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web%E5%AE%89%E5%85%A8/">Web安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/">二进制安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B8%97%E9%80%8F/">渗透</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%B5%8F%E9%87%91%E7%8C%8E%E4%BA%BA/">赏金猎人</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/binary/" rel="tag">binary</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bug-bounty/" rel="tag">bug bounty</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/code/" rel="tag">code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pentest/" rel="tag">pentest</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/binary/" style="font-size: 16.67px;">binary</a> <a href="/tags/bug-bounty/" style="font-size: 10px;">bug bounty</a> <a href="/tags/code/" style="font-size: 16.67px;">code</a> <a href="/tags/pentest/" style="font-size: 20px;">pentest</a> <a href="/tags/web/" style="font-size: 13.33px;">web</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/11/13/ret2dl/">ret2dl</a>
          </li>
        
          <li>
            <a href="/2020/11/11/bypass-Canary/">bypass Canary</a>
          </li>
        
          <li>
            <a href="/2020/10/24/ptmalloc/">ptmalloc机制闲扯</a>
          </li>
        
          <li>
            <a href="/2020/10/23/Double-free/">Double free</a>
          </li>
        
          <li>
            <a href="/2020/09/05/linux-fd/">linux中的pipe与fd</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 ph4ntom<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":300,"height":600},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>