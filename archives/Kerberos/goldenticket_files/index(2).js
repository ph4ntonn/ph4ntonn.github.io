parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"vNz/":[function(require,module,exports) {

},{}],"J/8/":[function(require,module,exports) {

},{"../global/css/vars.scss":"vNz/"}],"1ZCL":[function(require,module,exports) {
"use strict";function t(t,a){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var o=$(t),e=o.find("[data-js-stream-load-more]"),d=o.find("[data-js-stream-loading]"),s=o.find("[data-js-stream-reload]"),l=!1,r=o.data("next-page"),c=!!Number(o.data("use-offset")),u=e.data("api-url");function p(){e.removeAttr("hidden"),d.removeAttr("hidden"),s.attr("hidden",""),l=!0;var t=Number(o.data("next-page")),r="".concat(u,"?").concat(c?"offset":"page","=").concat(t);$.getJSON(r,function(t){var d=t.status,s=t.data;if(!d){var r=c?s.page.offset:s.page.current+1;if(s.rows.length>0){var u=$(a(s.rows));e.before(u),n($("[data-toggle-button-api]",u)),i($("[data-button-action]",u))}s&&s.rows.length>=s.page.size?(o.data("next-page",r),l=!1):e.remove()}}).fail(function(){d.attr("hidden",""),s.removeAttr("hidden")})}if(r||(r=1),0!=o.length){var v=function(){if(0!==e.length&&!s.is(":visible")&&!l){var t=o.height(),a=$(window).height();($(window).scrollTop()+a)/(o.offset().top+t)>.8&&p()}};$(window).on("scroll",v),v(),s.on("click",function(){p()})}}function a(){var t=$("[data-js-back2top]");$(window).on("scroll",function(){var a=$(window).height();$(window).scrollTop()/a>.5?t.removeAttr("hidden"):t.attr("hidden","")}),t.on("click",function(){window.scrollTo({top:0,behavior:"smooth"})})}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-toggle-button-api]";$(t).each(function(){var t=$(this),a=t.data(),n=a.toggleButtonApi,o=a.onText,e=a.offText,i=a.toggleStyle,d=a.toggleSel,s=a.linkSel,l=a.countSel,r=a.callback;if(!a.bind){t.data("bind",!0);var c=$(d),u=$(s),p=$(l);v(t,t.data("state")),f(),t.on("click",function(a){a.preventDefault(),a.stopPropagation(),t.addClass("disabled");var o=t.data("state"),e=n+(o?"/cancel":"");$.post(e,function(a){var n=a.status,o=a.data;t.removeClass("disabled"),n||(v(t,o.state),c.length>0&&v(c,!1),u.length>0&&v(u,o.state),p.length>0&&(p.text(o.count),f()),r&&r(a))})})}function v(t,a){"link"===i?(t.toggleClass("text-primary",a),t.find(a?".far":".fas").toggleClass("text-primary",a).toggleClass("fas",a).toggleClass("far",!a)):"switch"===i?(a=a,t.prop("checked",a)):(t.text(a?o:e),t.toggleClass("active",a));t.data("state",a)}function f(){p.filter("[data-count-hidden]").each(function(){var t=$(this),a=parseInt(t.text());t.toggleClass("d-none",0===a)})}})}function o(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"确定",e='\n  <div class="modal fade" role="dialog" tabindex="-1">\n      <div class="modal-dialog">\n          <div class="modal-content">\n              <div class="modal-header">\n                  <h5 class="modal-title">'.concat(t,'</h5>\n                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                      <span aria-hidden="true">&times;</span>\n                  </button>\n              </div>\n              <div class="modal-body">').concat(a,'</div>\n              <div class="modal-footer">\n                  <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>\n                  <button type="button" class="btn btn-primary">').concat(o,"</button>\n              </div>\n          </div>\n      </div>\n  </div>\n  "),i=$(e).modal("show");i.one("shown.bs.modal",function(){$(".btn-primary",this).click(function(){n&&n(),i.modal("hide")})}),i.one("hidden.bs.modal",function(){i.modal("dispose"),i.remove()})}function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o='\n  <div class="modal fade" role="dialog">\n      <div class="modal-dialog">\n          <div class="modal-content">\n              <div class="modal-header">\n                  <h5 class="modal-title">'.concat(t,'</h5>\n                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                      <span aria-hidden="true">&times;</span>\n                  </button>\n              </div>\n              <div class="modal-body">').concat(a,'</div>\n              <div class="modal-footer">\n                  <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>\n              </div>\n          </div>\n      </div>\n  </div>'),e=$(o).modal("show");n&&e.one("shown.bs.modal",n),e.one("hidden.bs.modal",function(){e.modal("dispose"),e.remove()})}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-button-action]";arguments.length>1&&void 0!==arguments[1]&&arguments[1];$(t).each(function(){var t=$(this),a=t.data(),n=a.buttonAction,e=a.actionConfirm,i=a.callback;function d(){$.post(n,function(t){var a=t.status,n=t.data,o=t.msg;a||(o&&sessionStorage.setItem("notice",o),i?i(n):n?location.href=n:location.reload(!0))})}a.bind||(t.data("bind",!0),t.on("click",function(t){t.preventDefault(),t.stopPropagation(),e?o("操作确认",e,d):d()}))})}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-button-in-alert]";$(t).on("click",function(){var t=this;$(this).addClass("disabled"),setTimeout(function(){$(t).removeClass("disabled"),$(t).closest(".alert").remove()},1e3)})}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-form-api]",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$(t).each(function(){var t=$(this),n=t.data(),o=t.data("bind");for(var e in n)a[e]=n[e];if(!o){t.data("bind",!0),$("input",this).attr("autocomplete","off"),$("[name]",t).on("input",function(){var t=$(this),a=t.parent();t.removeClass("is-invalid").next(".invalid-feedback").remove(),a.hasClass("input-group")&&a.removeClass("is-invalid").next(".invalid-feedback").remove()});var i=function(n){var o=n.status,e=n.data,i=n.msg;a.submitBtn&&$(a.submitBtn).removeAttr("disabled"),$("input[type=submit], button[type=submit]",t).removeAttr("disabled"),t.trigger("callback"),o||(i&&sessionStorage.setItem("notice",i),a.callback?a.callback.call(t,e):e?location.href=e:location.reload(!0))};a.stopAutoSubmit&&t.on("keydown",":input:not(textarea):not(:submit)",function(t){"Enter"==t.key&&t.preventDefault()}),a.submitBtn&&$(a.submitBtn).click(function(){t.submit()}),t.submit(function(n){n.preventDefault(),n.stopPropagation(),a.beforeSubmit&&a.beforeSubmit.call(t);var o=[];$("[contenteditable=true]",t).each(function(){o.push($('<input type="hidden">').attr("name",$(this).attr("name")).val(this.innerText).insertAfter(this))}),a.submitBtn&&$(a.submitBtn).attr("disabled","disabled"),$("input,select,textarea",t).trigger("input");var e=new FormData(t.get(0)),d=t.find("input[type=checkbox]");$.each(d,function(t,a){e.append($(a).attr("name"),Number($(this).is(":checked")))}),$.ajax({url:t.attr("action"),method:t.attr("method")||"POST",data:e,processData:!1,contentType:!1,form:t,success:i}),o.forEach(function(t){t.remove()}),$("input[type=submit], button[type=submit]",t).attr("disabled","disabled")})}})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-captcha]",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;$(t).each(function(){var t=$(this),n=t.data("bind");function o(){var n="/user/captcha?"+Math.ceil(1e8*Math.random());t.html('<img src="'.concat(n,'"').concat(a?' height="'+a+'"':"",">")),$("img",t).click(o)}a=a||t.data("captcha-height"),o(),n||(t.data("bind",!0),t.parents("form").on("callback",function(){o(),$("[name=captcha]",this).val("")}))})}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$("[data-area-province]"),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$("[data-area-city]"),n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],'<option selected value="">省份</option>');$.get("/api/areas/0",function(a){var o=a.status,e=a.data;if(!o){var i=!0,d=!1,s=void 0;try{for(var l,r=e[Symbol.iterator]();!(i=(l=r.next()).done);i=!0){var c=l.value;n+="<option value=".concat(c.id," data-pinyin=").concat(c.pinyin," data-short=").concat(c.short,">").concat(c.name,"</option>")}}catch(u){d=!0,s=u}finally{try{i||null==r.return||r.return()}finally{if(d)throw s}}t.empty().append(n),t.attr("init-value")&&(t.find('option[value="'.concat(t.attr("init-value"),'"]')).prop("selected",!0),t.trigger("change"))}}),t.on("change",function(){var t=$(this).val(),n="";if(a.empty().append('<option selected value="">地级市</option>'),~~t>9e5||!~~t)return a.prop("disabled",!0),!1;$.get("/api/areas/"+t,function(t){var o=t.status,e=t.data;if(!o){var i=!0,d=!1,s=void 0;try{for(var l,r=e[Symbol.iterator]();!(i=(l=r.next()).done);i=!0){var c=l.value;n+="<option value=".concat(c.id," data-pinyin=").concat(c.pinyin," data-short=").concat(c.short,">").concat(c.name,"</option>")}}catch(u){d=!0,s=u}finally{try{i||null==r.return||r.return()}finally{if(d)throw s}}1===e.length?a.prop("disabled",!1).empty().append(n):a.prop("disabled",!1).append(n),a.attr("init-value")&&a.find('option[value="'.concat(a.attr("init-value"),'"]')).prop("selected",!0)}})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.streamLoadMoreOnScroll=t,exports.back2top=a,exports.toggleButtonApi=n,exports.buttonAlertApi=d,exports.buttonActionApi=i,exports.dialogPopup=e,exports.confirmPopup=o,exports.bindFormSubmit=s,exports.captcha=l,exports.initArea=r;
},{}],"QXOD":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"D9+F":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function e(r){"string"!=typeof r&&(r+="");var t,e=0,n=-1,o=!0;for(t=r.length-1;t>=0;--t)if(47===r.charCodeAt(t)){if(!o){e=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":r.slice(e,n)}function n(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var i=s>=0?arguments[s]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,o="/"===i.charAt(0))}return(o?"/":"")+(e=t(n(e.split("/"),function(r){return!!r}),!o).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),s="/"===o(r,-1);return(r=t(n(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&s&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(n(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),o=e(t.split("/")),s=Math.min(n.length,o.length),i=s,u=0;u<s;u++)if(n[u]!==o[u]){i=u;break}var f=[];for(u=i;u<n.length;u++)f.push("..");return(f=f.concat(o.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,n=-1,o=!0,s=r.length-1;s>=1;--s)if(47===(t=r.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?e?"/":".":e&&1===n?"/":r.slice(0,n)},exports.basename=function(r,t){var n=e(r);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},exports.extname=function(r){"string"!=typeof r&&(r+="");for(var t=-1,e=0,n=-1,o=!0,s=0,i=r.length-1;i>=0;--i){var u=r.charCodeAt(i);if(47!==u)-1===n&&(o=!1,n=i+1),46===u?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){e=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===e+1?"":r.slice(t,n)};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"QXOD"}],"befd":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(t,n){"object"===("undefined"==typeof exports?"undefined":r(exports))&&"object"===("undefined"==typeof module?"undefined":r(module))?module.exports=n():"function"==typeof e&&e.amd?e([],n):"object"===("undefined"==typeof exports?"undefined":r(exports))?exports.Twig=n():t.Twig=n()}(t,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===r(e)&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(e){return r(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";e.exports=function(){var e=arguments,t=0,r=e[t++],n=function(e,t,r,n){r||(r=" ");var o=e.length>=t?"":new Array(1+t-e.length>>>0).join(r);return n?e+o:o+e},o=function(e,t,r,o,i){var s=o-e.length;return s>0&&(e=r||"0"!==i?n(e,o,i,r):[e.slice(0,t.length),n("",s,"0",!0),e.slice(t.length)].join("")),e},i=function(e,t,r,i,s,a){return e=n((e>>>0).toString(t),s||0,"0",!1),o(e,"",r,i,a)},s=function(e,t,r,n,i){return null!=n&&(e=e.slice(0,n)),o(e,"",t,r,i)};try{return r.replace(/%%|%(?:(\d+)\$)?((?:[-+#0 ]|'[\s\S])*)(\d+)?(?:\.(\d*))?([\s\S])/g,function(r,a,p,c,l,u){var h,f,y,d,g;if("%%"===r)return"%";var m,x,b=" ",v=!1,w="";for(m=0,x=p.length;m<x;m++)switch(p.charAt(m)){case" ":case"0":b=p.charAt(m);break;case"+":w="+";break;case"-":v=!0;break;case"'":m+1<x&&(b=p.charAt(m+1),m++)}if(c=c?+c:0,!isFinite(c))throw new Error("Width must be finite");if(l=l?+l:"d"===u?0:"fFeE".indexOf(u)>-1?6:void 0,a&&0==+a)throw new Error("Argument number must be greater than zero");if(a&&+a>=e.length)throw new Error("Too few arguments");switch(g=a?e[+a]:e[t++],u){case"%":return"%";case"s":return s(g+"",v,c,l,b);case"c":return s(String.fromCharCode(+g),v,c,l,b);case"b":return i(g,2,v,c,l,b);case"o":return i(g,8,v,c,l,b);case"x":return i(g,16,v,c,l,b);case"X":return i(g,16,v,c,l,b).toUpperCase();case"u":return i(g,10,v,c,l,b);case"i":case"d":return h=+g||0,g=(f=(h=Math.round(h-h%1))<0?"-":w)+n(String(Math.abs(h)),l,"0",!1),v&&"0"===b&&(b=" "),o(g,f,v,c,b);case"e":case"E":case"f":case"F":case"g":case"G":return f=(h=+g)<0?"-":w,y=["toExponential","toFixed","toPrecision"]["efg".indexOf(u.toLowerCase())],d=["toString","toUpperCase"]["eEfFgG".indexOf(u)%2],g=f+Math.abs(h)[y](l),o(g,f,v,c,b)[d]();default:return""}})}catch(a){return!1}}},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";e.exports=r(6)()},function(e,t,r){"use strict";e.exports=function e(){var t={VERSION:"1.14.0"};return r(7)(t),r(8)(t),r(9)(t),r(15)(t),r(16)(t),r(17)(t),r(27)(t),r(28)(t),r(30)(t),r(31)(t),r(32)(t),r(33)(t),r(34)(t),r(35)(t),r(36)(t),t.exports.factory=e,t.exports}},function(e,t,r){"use strict";var n=r(0)(r(2));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,n.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}e.exports=function(e){function t(t,r){if(t.template.options.rethrow)throw"string"==typeof r&&(r=new e.Error(r)),"TwigException"!==r.type||r.file||(r.file=t.template.id),r;if(e.log.error("Error parsing twig template "+t.template.id+": "),r.stack?e.log.error(r.stack):e.log.error(r.toString()),e.debug)return r.toString()}return e.trace=!1,e.debug=!1,e.cache=!0,e.noop=function(){},e.merge=function(e,t,r){return Object.keys(t).forEach(function(n){(!r||n in e)&&(e[n]=t[n])}),e},e.Error=function(e,t){this.message=e,this.name="TwigException",this.type="TwigException",this.file=t},e.Error.prototype.toString=function(){return this.name+": "+this.message},e.log={trace:function(){if(e.trace&&console){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console.log(Array.prototype.slice.call(r))}},debug:function(){if(e.debug&&console){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console.log(Array.prototype.slice.call(r))}}},"undefined"==typeof console?e.log.error=function(){}:void 0!==console.error?e.log.error=function(){var e;(e=console).error.apply(e,arguments)}:void 0!==console.log&&(e.log.error=function(){var e;(e=console).log.apply(e,arguments)}),e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",outputWhitespacePre:"output_whitespace_pre",outputWhitespacePost:"output_whitespace_post",outputWhitespaceBoth:"output_whitespace_both",logicWhitespacePre:"logic_whitespace_pre",logicWhitespacePost:"logic_whitespace_post",logicWhitespaceBoth:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.outputWhitespacePre,open:"{{-",close:"}}"},{type:e.token.type.outputWhitespacePost,open:"{{",close:"-}}"},{type:e.token.type.outputWhitespaceBoth,open:"{{-",close:"-}}"},{type:e.token.type.logicWhitespacePre,open:"{%-",close:"%}"},{type:e.token.type.logicWhitespacePost,open:"{%",close:"-%}"},{type:e.token.type.logicWhitespaceBoth,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(t){var r,n,o,i,s={position:null,def:null},a=null,p=e.token.definitions.length;for(r=0;r<p;r++)n=e.token.definitions[r],o=t.indexOf(n.open),i=t.indexOf(n.close),e.log.trace("Twig.token.findStart: ","Searching for ",n.open," found at ",o),o>=0&&n.open.length!==n.close.length&&i<0||(o>=0&&(null===s.position||o<s.position)?(s.position=o,s.def=n,a=i):o>=0&&null!==s.position&&o===s.position&&(n.open.length>s.def.open.length?(s.position=o,s.def=n,a=i):n.open.length===s.def.open.length&&(n.close.length,s.def.close.length,i>=0&&i<a&&(s.position=o,s.def=n,a=i))));return s},e.token.findEnd=function(t,r,n){for(var o,i,s=null,a=!1,p=0,c=null,l=null,u=null,h=null,f=null,y=null;!a;){if(c=null,l=null,!((u=t.indexOf(r.close,p))>=0))throw new e.Error("Unable to find closing bracket '"+r.close+"' opened near template position "+n);if(s=u,a=!0,r.type===e.token.type.comment)break;if(r.type===e.token.type.raw)break;for(i=e.token.strings.length,o=0;o<i;o+=1)(f=t.indexOf(e.token.strings[o],p))>0&&f<u&&(null===c||f<c)&&(c=f,l=e.token.strings[o]);if(null!==c)for(h=c+1,s=null,a=!1;;){if((y=t.indexOf(l,h))<0)throw e.Error("Unclosed string in template");if("\\"!==t.slice(y-1,y)){p=y+1;break}h=y+1}}return s},e.tokenize=function(t){for(var r=[],n=0,o=null,i=null;t.length>0;)if(o=e.token.findStart(t),e.log.trace("Twig.tokenize: ","Found token: ",o),null===o.position)r.push({type:e.token.type.raw,value:t}),t="";else{if(o.position>0&&r.push({type:e.token.type.raw,value:t.slice(0,Math.max(0,o.position))}),t=t.slice(o.position+o.def.open.length),n+=o.position+o.def.open.length,i=e.token.findEnd(t,o.def,n),e.log.trace("Twig.tokenize: ","Token ends at ",i),r.push({type:o.def.type,value:t.slice(0,Math.max(0,i)).trim()}),"\n"===t.slice(i+o.def.close.length,i+o.def.close.length+1))switch(o.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":i+=1}t=t.slice(i+o.def.close.length),n+=i+o.def.close.length}return r},e.compile=function(t){var r=this;try{for(var n=[],o=[],i=[],s=null,a=null,p=null,c=null,l=null,u=null,h=null,f=null,y=null,d=null,g=null,m=function(t){e.expression.compile.call(r,t),o.length>0?i.push(t):n.push(t)},x=function(t){if(a=e.logic.compile.call(r,t),y=a.type,d=e.logic.handler[y].open,g=e.logic.handler[y].next,e.log.trace("Twig.compile: ","Compiled logic token to ",a," next is: ",g," open is : ",d),void 0!==d&&!d){if(c=o.pop(),!e.logic.handler[c.type].next.includes(y))throw new Error(y+" not expected after a "+c.type);c.output=c.output||[],c.output=c.output.concat(i),i=[],f={type:e.token.type.logic,token:c},o.length>0?i.push(f):n.push(f)}void 0!==g&&g.length>0?(e.log.trace("Twig.compile: ","Pushing ",a," to logic stack."),o.length>0&&((c=o.pop()).output=c.output||[],c.output=c.output.concat(i),o.push(c),i=[]),o.push(a)):void 0!==d&&d&&(f={type:e.token.type.logic,token:a},o.length>0?i.push(f):n.push(f))};t.length>0;){switch(s=t.shift(),l=n[n.length-1],u=i[i.length-1],h=t[0],e.log.trace("Compiling token ",s),s.type){case e.token.type.raw:o.length>0?i.push(s):n.push(s);break;case e.token.type.logic:x.call(r,s);break;case e.token.type.comment:break;case e.token.type.output:m.call(r,s);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:switch(s.type!==e.token.type.outputWhitespacePost&&s.type!==e.token.type.logicWhitespacePost&&(l&&l.type===e.token.type.raw&&(n.pop(),null===l.value.match(/^\s*$/)&&(l.value=l.value.trim(),n.push(l))),u&&u.type===e.token.type.raw&&(i.pop(),null===u.value.match(/^\s*$/)&&(u.value=u.value.trim(),i.push(u)))),s.type){case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:m.call(r,s);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:x.call(r,s)}s.type!==e.token.type.outputWhitespacePre&&s.type!==e.token.type.logicWhitespacePre&&h&&h.type===e.token.type.raw&&(t.shift(),null===h.value.match(/^\s*$/)&&(h.value=h.value.trim(),t.unshift(h)))}e.log.trace("Twig.compile: "," Output: ",n," Logic Stack: ",o," Pending Output: ",i)}if(o.length>0)throw p=o.pop(),new Error("Unable to find an end tag for "+p.type+", expecting one of "+p.next);return n}catch(b){if(r.options.rethrow)throw"TwigException"!==b.type||b.file||(b.file=r.id),b;e.log.error("Error compiling twig template "+r.id+": "),b.stack?e.log.error(b.stack):e.log.error(b.toString())}},e.prepare=function(t){e.log.debug("Twig.prepare: ","Tokenizing ",t);var r=e.tokenize.call(this,t);e.log.debug("Twig.prepare: ","Compiling ",r);var n=e.compile.call(this,r);return e.log.debug("Twig.prepare: ","Compiled ",n),n},e.output=function(t){var r=this.options.autoescape;if(!r)return t.join("");var n="string"==typeof r?r:"html",o=t.map(function(t){return!t||!0===t.twigMarkup||t.twigMarkup===n||"html"===n&&"html_attr"===t.twigMarkup||(t=e.filters.escape(t,[n])),t});if(0===o.length)return"";var i=o.join("");return 0===i.length?"":new e.Markup(i,!0)},e.Templates={loaders:{},parsers:{},registry:{}},e.validateId=function(t){if("prototype"===t)throw new e.Error(t+" is not a valid twig identifier");if(e.cache&&Object.hasOwnProperty.call(e.Templates.registry,t))throw new e.Error("There is already a template with the ID "+t);return!0},e.Templates.registerLoader=function(t,r,n){if("function"!=typeof r)throw new e.Error("Unable to add loader for "+t+": Invalid function reference given.");n&&(r=r.bind(n)),this.loaders[t]=r},e.Templates.unRegisterLoader=function(e){this.isRegisteredLoader(e)&&delete this.loaders[e]},e.Templates.isRegisteredLoader=function(e){return Object.hasOwnProperty.call(this.loaders,e)},e.Templates.registerParser=function(t,r,n){if("function"!=typeof r)throw new e.Error("Unable to add parser for "+t+": Invalid function regerence given.");n&&(r=r.bind(n)),this.parsers[t]=r},e.Templates.unRegisterParser=function(e){this.isRegisteredParser(e)&&delete this.parsers[e]},e.Templates.isRegisteredParser=function(e){return Object.hasOwnProperty.call(this.parsers,e)},e.Templates.save=function(t){if(void 0===t.id)throw new e.Error("Unable to save template with no id");e.Templates.registry[t.id]=t},e.Templates.load=function(t){return Object.hasOwnProperty.call(e.Templates.registry,t)?e.Templates.registry[t]:null},e.Templates.loadRemote=function(t,r,n,o){var i=void 0===r.id?t:r.id,s=e.Templates.registry[i];return e.cache&&void 0!==s?("function"==typeof n&&n(s),s):(r.parser=r.parser||"twig",r.id=i,void 0===r.async&&(r.async=!0),(this.loaders[r.method]||this.loaders.fs).call(this,t,r,n,o))},e.Block=function(e,t){this.template=e,this.token=t},e.Block.prototype.render=function(t,r){var n=t.template;return t.template=this.template,(this.token.expression?e.expression.parseAsync.call(t,this.token.output,r):t.parseAsync(this.token.output,r)).then(function(n){return e.expression.parseAsync.call(t,{type:e.expression.type.string,value:n},r)}).then(function(e){return t.template=n,e})},e.ParseState=function(e,t){this.renderedBlocks={},this.overrideBlocks=void 0===t?{}:t,this.context={},this.macros={},this.nestingStack=[],this.template=e},e.ParseState.prototype.getBlock=function(e,t){var r;return!0!==t&&(r=this.overrideBlocks[e]),void 0===r&&(r=this.template.getBlock(e,t)),void 0===r&&null!==this.template.parentTemplate&&(r=this.template.parentTemplate.getBlock(e)),r},e.ParseState.prototype.getBlocks=function(e){var t={};return!1!==e&&null!==this.template.parentTemplate&&this.template.parentTemplate!==this.template&&(t=this.template.parentTemplate.getBlocks()),t=i({},t,{},this.template.getBlocks(),{},this.overrideBlocks)},e.ParseState.prototype.getNestingStackToken=function(e){var t;return this.nestingStack.forEach(function(r){void 0===t&&r.type===e&&(t=r)}),t},e.ParseState.prototype.parse=function(r,n,o){var i,s=this,a=[],p=null,c=!0,l=!0;function u(e){a.push(e)}function h(e){void 0!==e.chain&&(l=e.chain),void 0!==e.context&&(s.context=e.context),void 0!==e.output&&a.push(e.output)}if(n&&(s.context=n),i=e.async.forEach(r,function(t){switch(e.log.debug("Twig.ParseState.parse: ","Parsing token: ",t),t.type){case e.token.type.raw:a.push(e.filters.raw(t.value));break;case e.token.type.logic:return e.logic.parseAsync.call(s,t.token,s.context,l).then(h);case e.token.type.comment:break;case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:case e.token.type.output:return e.log.debug("Twig.ParseState.parse: ","Output token: ",t.stack),e.expression.parseAsync.call(s,t.stack,s.context).then(u)}}).then(function(){return a=e.output.call(s.template,a),c=!1,a}).catch(function(e){o&&t(s,e),p=e}),o)return i;if(null!==p)return t(s,p);if(c)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return a},e.Template=function(t){var r,n,o,i=t.data,s=t.id,a=t.base,p=t.path,c=t.url,l=t.name,u=t.method,h=t.options;this.base=a,this.blocks={defined:{},imported:{}},this.id=s,this.method=u,this.name=l,this.options=h,this.parentTemplate=null,this.path=p,this.url=c,r="String",n=i,o=Object.prototype.toString.call(n).slice(8,-1),this.tokens=null!=n&&o===r?e.prepare.call(this,i):i,void 0!==s&&e.Templates.save(this)},e.Template.prototype.getBlock=function(e,t){var r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!0!==t&&(r=this.blocks.defined[e]),n&&void 0===r&&(r=this.blocks.imported[e]),void 0===r&&null!==this.parentTemplate&&(r=this.parentTemplate.getBlock(e,t,n=!1)),r},e.Template.prototype.getBlocks=function(){var e={};return e=i({},e,{},this.blocks.imported,{},this.blocks.defined)},e.Template.prototype.render=function(t,r,n){var o=this;return r=r||{},e.async.potentiallyAsync(o,n,function(){var n=new e.ParseState(o,r.blocks);return n.parseAsync(o.tokens,t).then(function(t){var i,s;return null!==o.parentTemplate?(o.options.allowInlineIncludes&&(i=e.Templates.load(o.parentTemplate))&&(i.options=o.options),i||(s=e.path.parsePath(o,o.parentTemplate),i=e.Templates.loadRemote(s,{method:o.getLoaderMethod(),base:o.base,async:!1,id:s,options:o.options})),o.parentTemplate=i,o.parentTemplate.renderAsync(n.context,{blocks:n.getBlocks(!1),isInclude:!0})):!0===r.isInclude?t:t.valueOf()})})},e.Template.prototype.importFile=function(t){var r,n=null;if(!this.url&&this.options.allowInlineIncludes){if(t=this.path?e.path.parsePath(this,t):t,!(r=e.Templates.load(t))&&!(r=e.Templates.loadRemote(n,{id:t,method:this.getLoaderMethod(),async:!1,path:t,options:this.options})))throw new e.Error("Unable to find the template "+t);return r.options=this.options,r}return n=e.path.parsePath(this,t),r=e.Templates.loadRemote(n,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:n})},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(t){return e.compiler.compile(this,t)},e.Markup=function(e,t){if("string"!=typeof e)return e;var r=new String(e);return r.twigMarkup=void 0===t||t,r},e}},function(e,t,r){"use strict";e.exports=function(e){return e.compiler={module:{}},e.compiler.compile=function(t,r){var n=JSON.stringify(t.tokens),o=t.id,i=null;if(r.module){if(void 0===e.compiler.module[r.module])throw new e.Error("Unable to find module type "+r.module);i=e.compiler.module[r.module](o,n,r.twig)}else i=e.compiler.wrap(o,n);return i},e.compiler.module={amd:function(t,r,n){return'define(["'+n+'"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = '+e.compiler.wrap(t,r)+"\n\treturn templates;\n});"},node:function(t,r){return'var twig = require("twig").twig;\nexports.template = '+e.compiler.wrap(t,r)},cjs2:function(t,r,n){return'module.declare([{ twig: "'+n+'" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = '+e.compiler.wrap(t,r)+"\n});"}},e.compiler.wrap=function(e,t){return'twig({id:"'+e.replace('"','\\"')+'", data:'+t+", precompiled: true});\n"},e}},function(e,t,r){"use strict";var n=r(0),o=n(r(1)),i=n(r(10));e.exports=function(e){function t(t,r,n){return r?e.expression.parseAsync.call(t,r,n):e.Promise.resolve(!1)}for(e.expression={},r(14)(e),e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if","matches","starts","ends","with"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.subexpression.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start,e.expression.type.subexpression.start,e.expression.type.operator.unary]},e.expression.set.operationsExtended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets,e.expression.type.slice]),e.expression.fn={compile:{push:function(e,t,r){r.push(e)},pushBoth:function(e,t,r){r.push(e),t.push(e)}},parse:{push:function(e,t){t.push(e)},pushValue:function(e,t){t.push(e.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_]\w*(\s?as)?)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.filter=e.match[2],e.modifier=e.match[1],delete e.match,delete e.value,r.push(e)},parse:function(r,n,o){var i=n.pop();return t(this,r.params,o).then(function(t){var o=e.test(r.filter,i,t);"not"===r.modifier?n.push(!o):n.push(o)})}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile:function(t,r,n){var o,i=r.length-1;for(delete t.match,delete t.value;i>=0;i--){if((o=r.pop()).type===e.expression.type.object.start||o.type===e.expression.type.parameter.start||o.type===e.expression.type.array.start){r.push(o);break}n.push(o)}n.push(t)}},{type:e.expression.type.number,regex:/^-?\d+(\.\d+)?/,next:e.expression.set.operations,compile:function(e,t,r){e.value=Number(e.value),r.push(e)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.operator.binary,regex:/(^\?\?|^\?:|^(b-and)|^(b-or)|^(b-xor)|^[+\-~%?]|^[:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[(|\s+]|^(or)[(|\s+]|^(in)[(|\s+]|^(not in)[(|\s+]|^(matches)|^(starts with)|^(ends with)|^\.\.)/,next:e.expression.set.expressions,transform:function(e,t){switch(e[0]){case"and(":case"or(":case"in(":case"not in(":return t[t.length-1].value=e[2],e[0];default:return""}},compile:function(t,r,n){delete t.match,t.value=t.value.trim();var o=t.value,i=e.expression.operator.lookup(o,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",i," from ",o);r.length>0&&(r[r.length-1].type===e.expression.type.operator.unary||r[r.length-1].type===e.expression.type.operator.binary)&&(i.associativity===e.expression.operator.leftToRight&&i.precidence>=r[r.length-1].precidence||i.associativity===e.expression.operator.rightToLeft&&i.precidence>r[r.length-1].precidence);){var s=r.pop();n.push(s)}if(":"===o)if(r[r.length-1]&&"?"===r[r.length-1].value);else{var a=n.pop();if(a.type===e.expression.type.string||a.type===e.expression.type.variable)t.key=a.value;else if(a.type===e.expression.type.number)t.key=a.value.toString();else{if(!a.expression||a.type!==e.expression.type.parameter.end&&a.type!==e.expression.type.subexpression.end)throw new e.Error("Unexpected value before ':' of "+a.type+" = "+a.value);t.params=a.params}n.push(t)}else r.push(i)},parse:function(t,r,n){if(t.key)r.push(t);else{if(t.params)return e.expression.parseAsync.call(this,t.params,n).then(function(e){t.key=e,r.push(t),n.loop||delete t.params});e.expression.operator.parse(t.value,r)}}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile:function(t,r,n){delete t.match,t.value=t.value.trim();var o=t.value,i=e.expression.operator.lookup(o,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",i," from ",o);r.length>0&&(r[r.length-1].type===e.expression.type.operator.unary||r[r.length-1].type===e.expression.type.operator.binary)&&(i.associativity===e.expression.operator.leftToRight&&i.precidence>=r[r.length-1].precidence||i.associativity===e.expression.operator.rightToLeft&&i.precidence>r[r.length-1].precidence);){var s=r.pop();n.push(s)}r.push(i)},parse:function(t,r){e.expression.operator.parse(t.value,r)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operationsExtended,compile:function(t,r,n){var o=t.value;delete t.match,o='"'===o.slice(0,1)?o.replace('\\"','"'):o.replace("\\'","'"),t.value=o.slice(1,-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),n.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.subexpression.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.subexpression.end]),compile:function(e,t,r){e.value="(",r.push(e),t.push(e)},parse:e.expression.fn.parse.push},{type:e.expression.type.subexpression.end,regex:/^\)/,next:e.expression.set.operationsExtended,validate:function(t,r){for(var n=r.length-1,o=!1,i=!1,s=0;!o&&n>=0;){var a=r[n];(o=a.type===e.expression.type.subexpression.start)&&i&&(i=!1,o=!1),a.type===e.expression.type.parameter.start?s++:a.type===e.expression.type.parameter.end?s--:a.type===e.expression.type.subexpression.end&&(i=!0),n--}return o&&0===s},compile:function(t,r,n){var o,i=t;for(o=r.pop();r.length>0&&o.type!==e.expression.type.subexpression.start;)n.push(o),o=r.pop();for(var s=[];t.type!==e.expression.type.subexpression.start;)s.unshift(t),t=n.pop();s.unshift(t),void 0===(o=r[r.length-1])||o.type!==e.expression.type._function&&o.type!==e.expression.type.filter&&o.type!==e.expression.type.test&&o.type!==e.expression.type.key.brackets?(i.expression=!0,s.pop(),s.shift(),i.params=s,n.push(i)):(i.expression=!1,o.params=s)},parse:function(t,r,n){if(t.expression)return e.expression.parseAsync.call(this,t.params,n).then(function(e){r.push(e)});throw new e.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),validate:function(t,r){var n=r[r.length-1];return n&&!e.expression.reservedWords.includes(n.value.trim())},compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operationsExtended,compile:function(t,r,n){var o,i=t;for(o=r.pop();r.length>0&&o.type!==e.expression.type.parameter.start;)n.push(o),o=r.pop();for(var s=[];t.type!==e.expression.type.parameter.start;)s.unshift(t),t=n.pop();s.unshift(t),void 0===(t=n[n.length-1])||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets?(i.expression=!0,s.pop(),s.shift(),i.params=s,n.push(i)):(i.expression=!1,t.params=s)},parse:function(t,r,n){var o=[],i=!1,s=null;if(t.expression)return e.expression.parseAsync.call(this,t.params,n).then(function(e){r.push(e)});for(;r.length>0;){if((s=r.pop())&&s.type&&s.type===e.expression.type.parameter.start){i=!0;break}o.unshift(s)}if(!i)throw new e.Error("Expected end of parameter set.");r.push(o)}},{type:e.expression.type.slice,regex:/^\[(\d*:\d*)\]/,next:e.expression.set.operationsExtended,compile:function(e,t,r){var n=e.match[1].split(":"),o=n[0]?parseInt(n[0],10):void 0,i=n[1]?parseInt(n[1],10):void 0;e.value="slice",e.params=[o,i],i||(e.params=[o]),r.push(e)},parse:function(t,r){var n=r.pop(),o=t.params;r.push(e.filter.call(this,t.value,n,o))}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operationsExtended,compile:function(t,r,n){for(var o,i=r.length-1;i>=0&&(o=r.pop()).type!==e.expression.type.array.start;i--)n.push(o);n.push(t)},parse:function(t,r){for(var n=[],o=!1,i=null;r.length>0;){if((i=r.pop()).type&&i.type===e.expression.type.array.start){o=!0;break}n.unshift(i)}if(!o)throw new e.Error("Expected end of array.");r.push(n)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operationsExtended,compile:function(t,r,n){for(var o,i=r.length-1;i>=0&&(!(o=r.pop())||o.type!==e.expression.type.object.start);i--)n.push(o);n.push(t)},parse:function(t,r){for(var n={},o=!1,i=null,s=!1,a=null;r.length>0;){if((i=r.pop())&&i.type&&i.type===e.expression.type.object.start){o=!0;break}if(i&&i.type&&(i.type===e.expression.type.operator.binary||i.type===e.expression.type.operator.unary)&&i.key){if(!s)throw new e.Error("Missing value for key '"+i.key+"' in object definition.");n[i.key]=a,void 0===n._keys&&(n._keys=[]),n._keys.unshift(i.key),a=null,s=!1}else s=!0,a=i}if(!o)throw new e.Error("Unexpected end of object.");r.push(n)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_-]*)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.value=e.match[1],r.push(e)},parse:function(r,n,o){var i=n.pop(),s=this;return t(s,r.params,o).then(function(t){return e.filter.call(s,r.value,i,t)}).then(function(e){n.push(e)})}},{type:e.expression.type._function,regex:/^([a-zA-Z_]\w*)\s*\(/,next:e.expression.type.parameter.start,validate:function(t){return t[1]&&!e.expression.reservedWords.includes(t[1])},transform:function(){return"("},compile:function(e,t,r){var n=e.match[1];e.fn=n,delete e.match,delete e.value,r.push(e)},parse:function(r,n,o){var s,a=this,p=r.fn;return t(a,r.params,o).then(function(t){if(e.functions[p])s=e.functions[p].apply(a,t);else{if("function"!=typeof o[p])throw new e.Error(p+" function does not exist and is not defined in the context");s=o[p].apply(o,(0,i.default)(t))}return s}).then(function(e){n.push(e)})}},{type:e.expression.type.variable,regex:/^[a-zA-Z_]\w*/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate:function(t){return!e.expression.reservedWords.includes(t[0])},parse:function(t,r,n){var o=this;return e.expression.resolveAsync.call(o,n[t.value],n).then(function(n){if(o.template.options.strictVariables&&void 0===n)throw new e.Error('Variable "'+t.value+'" does not exist.');r.push(n)})}},{type:e.expression.type.key.period,regex:/^\.(\w+)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.key=e.match[1],delete e.match,delete e.value,r.push(e)},parse:function(r,n,i,s){var a,p=this,c=r.key,l=n.pop();if(l&&!Object.prototype.hasOwnProperty.call(l,c)&&p.template.options.strictVariables)throw Object.keys(l).length>0?new e.Error('Key "'+c+'" for object with keys "'+Object.keys(l).join(", ")+'" does not exist.'):new e.Error('Key "'+c+'" does not exist as the object is empty.');return t(p,r.params,i).then(function(t){if(null==l)a=void 0;else{var r=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)};a="object"===(0,o.default)(l)&&c in l?l[c]:l["get"+r(c)]?l["get"+r(c)]:l["is"+r(c)]?l["is"+r(c)]:void 0}return e.expression.resolveAsync.call(p,a,i,t,s,l)}).then(function(e){n.push(e)})}},{type:e.expression.type.key.brackets,regex:/^\[([^\]:]*)\]/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:function(t,r,n){var o=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:o}).stack,n.push(t)},parse:function(r,n,i,s){var a,p,c=this,l=null;return t(c,r.params,i).then(function(t){return l=t,e.expression.parseAsync.call(c,r.stack,i)}).then(function(t){if((a=n.pop())&&!Object.prototype.hasOwnProperty.call(a,t)&&c.template.options.strictVariables){var r=Object.keys(a);throw r.length>0?new e.Error('Key "'+t+'" for array with keys "'+r.join(", ")+'" does not exist.'):new e.Error('Key "'+t+'" does not exist as the array is empty.')}return null==a?null:(p="object"===(0,o.default)(a)&&t in a?a[t]:null,e.expression.resolveAsync.call(c,p,a,l,s))}).then(function(e){n.push(e)})}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile:function(e,t,r){delete e.match,e.value=null,r.push(e)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse:function(e,t,r){t.push(r)}},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile:function(e,t,r){e.value="true"===e.match[0].toLowerCase(),delete e.match,r.push(e)},parse:e.expression.fn.parse.pushValue}],e.expression.resolveAsync=function(t,r,n,o,i){var s=this;if("function"!=typeof t)return e.Promise.resolve(t);var a=e.Promise.resolve(n);if(o&&o.type===e.expression.type.parameter.end){a=a.then(function(){return o.params&&e.expression.parseAsync.call(s,o.params,r,!0)}).then(function(e){return o.cleanup=!0,e})}return a.then(function(e){return t.apply(i||r,e||[])})},e.expression.resolve=function(t,r,n,o,i){return e.async.potentiallyAsync(this,!1,function(){return e.expression.resolveAsync.call(this,t,r,n,o,i)})},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){var r,n,o,i,s,a=[],p=0,c=null,l=[],u=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(var u=arguments.length-2,h=new Array(u);u-- >0;)h[u]=n[u];if(e.log.trace("Twig.expression.tokenize","Matched a ",r," regular expression of ",h),c&&!c.includes(r))return l.push(r+" cannot follow a "+a[a.length-1].type+" at template:"+p+" near '"+h[0].slice(0,20)+"...'"),h[0];var f=e.expression.handler[r];return f.validate&&!f.validate(h,a)?h[0]:(l=[],a.push({type:r,value:h[0],match:h}),s=!0,c=i,p+=h[0].length,f.transform?f.transform(h,a):"")};for(e.log.debug("Twig.expression.tokenize","Tokenizing expression ",t);t.length>0;){for(r in t=t.trim(),e.expression.handler)if(Object.hasOwnProperty.call(e.expression.handler,r)){if(i=e.expression.handler[r].next,n=e.expression.handler[r].regex,e.log.trace("Checking type ",r," on ",t),s=!1,Array.isArray(n))for(o=n.length;o-- >0;)t=t.replace(n[o],u);else t=t.replace(n,u);if(s)break}if(!s)throw l.length>0?new e.Error(l.join(" OR ")):new e.Error("Unable to parse '"+t+"' at template position"+p)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",a),a},e.expression.compile=function(t){var r=t.value,n=e.expression.tokenize(r),o=null,i=[],s=[],a=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",r);n.length>0;)o=n.shift(),a=e.expression.handler[o.type],e.log.trace("Twig.expression.compile: ","Compiling ",o),a.compile(o,s,i),e.log.trace("Twig.expression.compile: ","Stack is",s),e.log.trace("Twig.expression.compile: ","Output is",i);for(;s.length>0;)i.push(s.pop());return e.log.trace("Twig.expression.compile: ","Final output is",i),t.stack=i,delete t.value,t},e.expression.parse=function(t,r,n,o){var i=this;Array.isArray(t)||(t=[t]);var s=[],a=[],p=e.expression.type.operator.binary;return e.async.potentiallyAsync(i,o,function(){return e.async.forEach(t,function(n,o){var c,l=null,u=null;if(!n.cleanup)return t.length>o+1&&(u=t[o+1]),(l=e.expression.handler[n.type]).parse&&(c=l.parse.call(i,n,s,r,u)),n.type===p&&r.loop&&a.push(n),c}).then(function(){for(var e=a.length,t=null;e-- >0;)(t=a[e]).params&&t.key&&delete t.key;if(n){var r=s.splice(0);s.push(r)}return s.pop()})})},e}},function(e,t,r){var n=r(11),o=r(12),i=r(13);e.exports=function(e){return n(e)||o(e)||i()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,r){"use strict";e.exports=function(e){e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};var t=function(e,t){if(null==t)return null;if(void 0!==t.indexOf)return(e===t||""!==e)&&t.includes(e);var r;for(r in t)if(Object.hasOwnProperty.call(t,r)&&t[r]===e)return!0;return!1};return e.expression.operator.lookup=function(t,r){switch(t){case"..":r.precidence=20,r.associativity=e.expression.operator.leftToRight;break;case",":r.precidence=18,r.associativity=e.expression.operator.leftToRight;break;case"?:":case"?":case":":r.precidence=16,r.associativity=e.expression.operator.rightToLeft;break;case"??":r.precidence=15,r.associativity=e.expression.operator.rightToLeft;break;case"or":r.precidence=14,r.associativity=e.expression.operator.leftToRight;break;case"and":r.precidence=13,r.associativity=e.expression.operator.leftToRight;break;case"b-or":r.precidence=12,r.associativity=e.expression.operator.leftToRight;break;case"b-xor":r.precidence=11,r.associativity=e.expression.operator.leftToRight;break;case"b-and":r.precidence=10,r.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":r.precidence=9,r.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":r.precidence=8,r.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":r.precidence=6,r.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":r.precidence=5,r.associativity=e.expression.operator.leftToRight;break;case"not":r.precidence=3,r.associativity=e.expression.operator.rightToLeft;break;case"matches":case"starts with":case"ends with":r.precidence=8,r.associativity=e.expression.operator.leftToRight;break;default:throw new e.Error("Failed to lookup operator: "+t+" is an unknown operator.")}return r.operator=t,r},e.expression.operator.parse=function(r,n){var o,i,s;if(e.log.trace("Twig.expression.operator.parse: ","Handling ",r),"?"===r&&(s=n.pop()),i=n.pop(),"not"!==r&&(o=n.pop()),"in"!==r&&"not in"!==r&&"??"!==r&&(o&&Array.isArray(o)&&(o=o.length),i&&Array.isArray(i)&&(i=i.length)),"matches"===r&&i&&"string"==typeof i){var a=i.match(/^\/(.*)\/([gims]?)$/),p=a[1],c=a[2];i=new RegExp(p,c)}switch(r){case":":break;case"??":void 0===o&&(o=i,i=s,s=void 0),null!=o?n.push(o):n.push(i);break;case"?:":e.lib.boolval(o)?n.push(o):n.push(i);break;case"?":void 0===o&&(o=i,i=s,s=void 0),e.lib.boolval(o)?n.push(i):n.push(s);break;case"+":i=parseFloat(i),o=parseFloat(o),n.push(o+i);break;case"-":i=parseFloat(i),o=parseFloat(o),n.push(o-i);break;case"*":i=parseFloat(i),o=parseFloat(o),n.push(o*i);break;case"/":i=parseFloat(i),o=parseFloat(o),n.push(o/i);break;case"//":i=parseFloat(i),o=parseFloat(o),n.push(Math.floor(o/i));break;case"%":i=parseFloat(i),o=parseFloat(o),n.push(o%i);break;case"~":n.push((null!=o?o.toString():"")+(null!=i?i.toString():""));break;case"not":case"!":n.push(!e.lib.boolval(i));break;case"<":n.push(o<i);break;case"<=":n.push(o<=i);break;case">":n.push(o>i);break;case">=":n.push(o>=i);break;case"===":n.push(o===i);break;case"==":n.push(o==i);break;case"!==":n.push(o!==i);break;case"!=":n.push(o!=i);break;case"or":n.push(e.lib.boolval(o)||e.lib.boolval(i));break;case"b-or":n.push(o|i);break;case"b-xor":n.push(o^i);break;case"and":n.push(e.lib.boolval(o)&&e.lib.boolval(i));break;case"b-and":n.push(o&i);break;case"**":n.push(Math.pow(o,i));break;case"not in":n.push(!t(o,i));break;case"in":n.push(t(o,i));break;case"matches":n.push(i.test(o));break;case"starts with":n.push("string"==typeof o&&0===o.indexOf(i));break;case"ends with":n.push("string"==typeof o&&o.includes(i,o.length-i.length));break;case"..":n.push(e.functions.range(o,i));break;default:throw new e.Error("Failed to parse operator: "+r+" is an unknown operator.")}},e}},function(e,t,r){"use strict";var n=r(0)(r(1));e.exports=function(e){function t(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&r===e}return e.filters={upper:function(e){return"string"!=typeof e?e:e.toUpperCase()},lower:function(e){return"string"!=typeof e?e:e.toLowerCase()},capitalize:function(e){return"string"!=typeof e?e:e.slice(0,1).toUpperCase()+e.toLowerCase().slice(1)},title:function(e){return"string"!=typeof e?e:e.toLowerCase().replace(/(^|\s)([a-z])/g,function(e,t,r){return t+r.toUpperCase()})},length:function(t){return e.lib.is("Array",t)||"string"==typeof t?t.length:e.lib.is("Object",t)?void 0===t._keys?Object.keys(t).length:t._keys.length:0},reverse:function(e){if(t("Array",e))return e.reverse();if(t("String",e))return e.split("").reverse().join("");if(t("Object",e)){var r=e._keys||Object.keys(e).reverse();return e._keys=r,e}},sort:function(e){if(t("Array",e))return e.sort();if(t("Object",e)){delete e._keys;var r=Object.keys(e).sort(function(t,r){var n,o;return e[t]>e[r]==!(e[t]<=e[r])?e[t]>e[r]?1:e[t]<e[r]?-1:0:isNaN(n=parseFloat(e[t]))||isNaN(o=parseFloat(e[r]))?"string"==typeof e[t]?e[t]>e[r].toString()?1:e[t]<e[r].toString()?-1:0:"string"==typeof e[r]?e[t].toString()>e[r]?1:e[t].toString()<e[r]?-1:0:null:n>o?1:n<o?-1:0});return e._keys=r,e}},keys:function(e){if(null!=e){var t=e._keys||Object.keys(e),r=[];return t.forEach(function(t){"_keys"!==t&&Object.hasOwnProperty.call(e,t)&&r.push(t)}),r}},url_encode:function(t){if(null!=t){if(e.lib.is("Object",t)){return function t(r,n){var o=[];return(r._keys||Object.keys(r)).forEach(function(i){if(Object.prototype.hasOwnProperty.call(r,i)){var s=n?n+"["+i+"]":i,a=r[i];o.push(e.lib.is("Object",a)||Array.isArray(a)?t(a,s):encodeURIComponent(s)+"="+encodeURIComponent(a))}}),o.join("&amp;")}(t)}var r=encodeURIComponent(t);return r=r.replace("'","%27")}},join:function(e,r){if(null!=e){var n="",o=[];return r&&r[0]&&(n=r[0]),t("Array",e)?o=e:(e._keys||Object.keys(e)).forEach(function(t){"_keys"!==t&&Object.hasOwnProperty.call(e,t)&&o.push(e[t])}),o.join(n)}},default:function(t,r){if(void 0!==r&&r.length>1)throw new e.Error("default filter expects one argument");return null==t||""===t?void 0===r?"":r[0]:t},json_encode:function(r){if(null==r)return"null";if("object"===(0,n.default)(r)&&t("Array",r)){var o=[];return r.forEach(function(t){o.push(e.filters.json_encode(t))}),"["+o.join(",")+"]"}if("object"===(0,n.default)(r)&&t("Date",r))return'"'+r.toISOString()+'"';if("object"===(0,n.default)(r)){var i=r._keys||Object.keys(r),s=[];return i.forEach(function(t){s.push(JSON.stringify(t)+":"+e.filters.json_encode(r[t]))}),"{"+s.join(",")+"}"}return JSON.stringify(r)},merge:function(r,n){var o=[],i=0;if(t("Array",r)?n.forEach(function(e){t("Array",e)||(o={})}):o={},t("Array",o)||(o._keys=[]),t("Array",r)?r.forEach(function(e){o._keys&&o._keys.push(i),o[i]=e,i++}):(r._keys||Object.keys(r)).forEach(function(e){o[e]=r[e],o._keys.push(e);var t=parseInt(e,10);!isNaN(t)&&t>=i&&(i=t+1)}),n.forEach(function(e){t("Array",e)?e.forEach(function(e){o._keys&&o._keys.push(i),o[i]=e,i++}):(e._keys||Object.keys(e)).forEach(function(t){o[t]||o._keys.push(t),o[t]=e[t];var r=parseInt(t,10);!isNaN(r)&&r>=i&&(i=r+1)})}),0===n.length)throw new e.Error("Filter merge expects at least one parameter");return o},date:function(t,r){var n=e.functions.date(t),o=r&&Boolean(r.length)?r[0]:"F j, Y H:i";return e.lib.date(o.replace(/\\\\/g,"\\"),n)},date_modify:function(t,r){if(null!=t){if(void 0===r||1!==r.length)throw new e.Error("date_modify filter expects 1 argument");var n,o=r[0];return e.lib.is("Date",t)&&(n=e.lib.strtotime(o,t.getTime()/1e3)),e.lib.is("String",t)&&(n=e.lib.strtotime(o,e.lib.strtotime(t))),e.lib.is("Number",t)&&(n=e.lib.strtotime(o,t)),new Date(1e3*n)}},replace:function(t,r){if(null!=t){var n,o=r[0];for(n in o)Object.hasOwnProperty.call(o,n)&&"_keys"!==n&&(t=e.lib.replaceAll(t,n,o[n]));return t}},format:function(t,r){if(null!=t)return e.lib.vsprintf(t,r)},striptags:function(t,r){if(null!=t)return e.lib.stripTags(t,r)},escape:function(t,r){if(null!=t&&""!==t){var n="html";if(r&&Boolean(r.length)&&!0!==r[0]&&(n=r[0]),"html"===n){var o=t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return new e.Markup(o,"html")}if("js"===n){for(var i=t.toString(),s="",a=0;a<i.length;a++)if(i[a].match(/^[a-zA-Z0-9,._]$/))s+=i[a];else{var p=i.charCodeAt(a);s+=p<128?"\\x"+p.toString(16).toUpperCase():e.lib.sprintf("\\u%04s",p.toString(16).toUpperCase())}return new e.Markup(s,"js")}if("css"===n){for(var c=t.toString(),l="",u=0;u<c.length;u++){if(c[u].match(/^[a-zA-Z0-9]$/))l+=c[u];else l+="\\"+c.charCodeAt(u).toString(16).toUpperCase()+" "}return new e.Markup(l,"css")}if("url"===n){var h=e.filters.url_encode(t);return new e.Markup(h,"url")}if("html_attr"===n){for(var f=t.toString(),y="",d=0;d<f.length;d++)if(f[d].match(/^[a-zA-Z0-9,.\-_]$/))y+=f[d];else if(f[d].match(/^[&<>"]$/))y+=f[d].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{var g=f.charCodeAt(d);y+=g<=31&&9!==g&&10!==g&&13!==g?"&#xFFFD;":g<128?e.lib.sprintf("&#x%02s;",g.toString(16).toUpperCase()):e.lib.sprintf("&#x%04s;",g.toString(16).toUpperCase())}return new e.Markup(y,"html_attr")}throw new e.Error("escape strategy unsupported")}},e:function(t,r){return e.filters.escape(t,r)},nl2br:function(t){if(null!=t&&""!==t){var r="<br />BACKSLASH_n_replace";return t=e.filters.escape(t).replace(/\r\n/g,r).replace(/\r/g,r).replace(/\n/g,r),t=e.lib.replaceAll(t,"BACKSLASH_n_replace","\n"),new e.Markup(t)}},number_format:function(e,t){var r=e,n=t&&t[0]?t[0]:void 0,o=t&&void 0!==t[1]?t[1]:".",i=t&&void 0!==t[2]?t[2]:",";r=String(r).replace(/[^0-9+\-Ee.]/g,"");var s=isFinite(Number(r))?Number(r):0,a=isFinite(Number(n))?Math.abs(n):0,p="";return(p=(a?function(e,t){var r=Math.pow(10,t);return String(Math.round(e*r)/r)}(s,a):String(Math.round(s))).split("."))[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(p[1]||"").length<a&&(p[1]=p[1]||"",p[1]+=new Array(a-p[1].length+1).join("0")),p.join(o)},trim:function(e,t){if(null!=e){var r,n=String(e);r=t&&t[0]?String(t[0]):" \n\r\t\f\v            ​\u2028\u2029　";for(var o=0;o<n.length;o++)if(!r.includes(n.charAt(o))){n=n.slice(Math.max(0,o));break}for(var i=n.length-1;i>=0;i--)if(!r.includes(n.charAt(i))){n=n.slice(0,Math.max(0,i+1));break}return r.includes(n.charAt(0))?"":n}},truncate:function(e,t){var r=30,n=!1,o="...";if(e=String(e),t&&(t[0]&&(r=t[0]),t[1]&&(n=t[1]),t[2]&&(o=t[2])),e.length>r){if(n&&-1===(r=e.indexOf(" ",r)))return e;e=e.slice(0,r)+o}return e},slice:function(t,r){if(null!=t){if(void 0===r||0===r.length)throw new e.Error("slice filter expects at least 1 argument");var n=r[0]||0,o=r.length>1?r[1]:t.length,i=n>=0?n:Math.max(t.length+n,0);if(e.lib.is("Array",t)){for(var s=[],a=i;a<i+o&&a<t.length;a++)s.push(t[a]);return s}if(e.lib.is("String",t))return t.slice(i,i+o);throw new e.Error("slice filter expects value to be an array or string")}},abs:function(e){if(null!=e)return Math.abs(e)},first:function(e){if(t("Array",e))return e[0];if(t("Object",e)){if("_keys"in e)return e[e._keys[0]]}else if("string"==typeof e)return e.slice(0,1)},split:function(t,r){if(null!=t){if(void 0===r||0===r.length||r.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){var n=r[0],o=r[1],i=t.split(n);if(void 0===o)return i;if(o<0)return t.split(n,i.length+o);var s=[];if(""===n)for(;i.length>0;){for(var a="",p=0;p<o&&i.length>0;p++)a+=i.shift();s.push(a)}else{for(var c=0;c<o-1&&i.length>0;c++)s.push(i.shift());i.length>0&&s.push(i.join(n))}return s}throw new e.Error("split filter expects value to be a string")}},last:function(t){var r;return e.lib.is("Object",t)?t[(r=void 0===t._keys?Object.keys(t):t._keys)[r.length-1]]:t[t.length-1]},raw:function(t){return new e.Markup(t||"")},batch:function(t,r){var n,o,i=r.shift(),s=r.shift();if(!e.lib.is("Array",t))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",i))throw new e.Error("batch filter expects size to be a number");i=Math.ceil(i);var a=e.lib.chunkArray(t,i);if(s&&t.length%i!=0){for(o=i-(n=a.pop()).length;o--;)n.push(s);a.push(n)}return a},round:function(t,r){var n=(r=r||[]).length>0?r[0]:0,o=r.length>1?r[1]:"common";if(t=parseFloat(t),n&&!e.lib.is("Number",n))throw new e.Error("round filter expects precision to be a number");if("common"===o)return e.lib.round(t,n);if(!e.lib.is("Function",Math[o]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[o](t*Math.pow(10,n))/Math.pow(10,n)},spaceless:function(e){return e.replace(/>\s+</g,"><").trim()}},e.filter=function(t,r,n){if(!e.filters[t])throw new e.Error("Unable to find filter "+t);return e.filters[t].call(this,r,n)},e.filter.extend=function(t,r){e.filters[t]=r},e}},function(e,t,r){"use strict";var n=r(0)(r(1));e.exports=function(t){return t.functions={range:function(e,t,r){var n,o,i=[],s=r||1,a=!1;if(isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(a=!0,n=e.charCodeAt(0),o=t.charCodeAt(0)):(n=isNaN(e)?0:e,o=isNaN(t)?0:t):(n=parseInt(e,10),o=parseInt(t,10)),!(n>o))for(;n<=o;)i.push(a?String.fromCharCode(n):n),n+=s;else for(;n>=o;)i.push(a?String.fromCharCode(n):n),n-=s;return i},cycle:function(e,t){return e[t%e.length]},dump:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=[].concat(t),i=0,s="",a=function(e){for(var t="";e>0;)e--,t+="  ";return t},p=function(e){s+=a(i),"object"===(0,n.default)(e)?c(e):"function"==typeof e?s+="function()\n":"string"==typeof e?s+="string("+e.length+') "'+e+'"\n':"number"==typeof e?s+="number("+e+")\n":"boolean"==typeof e&&(s+="bool("+e+")\n")},c=function(e){var t;if(null===e)s+="NULL\n";else if(void 0===e)s+="undefined\n";else if("object"===(0,n.default)(e)){for(t in s+=a(i)+(0,n.default)(e),i++,s+="("+function(e){var t,r=0;for(t in e)Object.hasOwnProperty.call(e,t)&&r++;return r}(e)+") {\n",e)Object.hasOwnProperty.call(e,t)&&(s+=a(i)+"["+t+"]=> \n",p(e[t]));s+=a(--i)+"}\n"}else p(e)};return 0===o.length&&o.push(this.context),o.forEach(function(e){c(e)}),s},date:function(e){var r;if(null==e||""===e)r=new Date;else if(t.lib.is("Date",e))r=e;else if(t.lib.is("String",e))r=e.match(/^\d+$/)?new Date(1e3*e):new Date(1e3*t.lib.strtotime(e));else{if(!t.lib.is("Number",e))throw new t.Error("Unable to parse date "+e);r=new Date(1e3*e)}return r},block:function(e){var t=this.getBlock(e);if(void 0!==t)return t.render(this,this.context)},parent:function(){return this.getBlock(this.getNestingStackToken(t.logic.type.block).blockName,!0).render(this,this.context)},attribute:function(e,r,n){return t.lib.is("Object",e)&&Object.hasOwnProperty.call(e,r)?"function"==typeof e[r]?e[r].apply(void 0,n):e[r]:e&&e[r]||void 0},max:function(e){if(t.lib.is("Object",e))return delete e._keys,t.lib.max(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return Reflect.apply(t.lib.max,null,[e].concat(n))},min:function(e){if(t.lib.is("Object",e))return delete e._keys,t.lib.min(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return Reflect.apply(t.lib.min,null,[e].concat(n))},template_from_string:function(e){return void 0===e&&(e=""),t.Templates.parsers.twig({options:this.template.options,data:e})},random:function(e){var r=2147483648;function n(e){var t=Math.floor(Math.random()*r),n=Math.min.call(null,0,e),o=Math.max.call(null,0,e);return n+Math.floor((o-n+1)*t/r)}if(t.lib.is("Number",e))return n(e);if(t.lib.is("String",e))return e.charAt(n(e.length-1));if(t.lib.is("Array",e))return e[n(e.length-1)];if(t.lib.is("Object",e)){var o=Object.keys(e);return e[o[n(o.length-1)]]}return n(r-1)},source:function(r,n){var o,i=!1,s={id:r,path:r,method:void 0!==e.exports&&"undefined"==typeof window?"fs":"ajax",parser:"source",async:!1,fetchTemplateSource:!0};void 0===n&&(n=!1);try{null==(o=t.Templates.loadRemote(r,s))?o="":i=!0}catch(a){t.log.debug("Twig.functions.source: ","Problem loading template  ",a)}return i||n?o:'Template "{name}" is not defined.'.replace("{name}",r)}},t._function=function(e,r,n){if(!t.functions[e])throw new t.Error("Unable to find function "+e);return t.functions[e](r,n)},t._function.extend=function(e,r){t.functions[e]=r},t}},function(e,t,r){"use strict";e.exports=function(e){return e.lib={},e.lib.sprintf=r(3),e.lib.vsprintf=r(18),e.lib.round=r(19),e.lib.max=r(20),e.lib.min=r(21),e.lib.stripTags=r(22),e.lib.strtotime=r(24),e.lib.date=r(25),e.lib.boolval=r(26),e.lib.is=function(e,t){if(null==t)return!1;switch(e){case"Array":return Array.isArray(t);case"Date":return t instanceof Date;case"String":return"string"==typeof t||t instanceof String;case"Number":return"number"==typeof t||t instanceof Number;case"Function":return"function"==typeof t;case"Object":return t instanceof Object;default:return!1}},e.lib.replaceAll=function(e,t,r){var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return e.replace(new RegExp(n,"g"),r)},e.lib.chunkArray=function(e,t){var r=[],n=0,o=e.length;if(t<1||!Array.isArray(e))return[];for(;n<o;)r.push(e.slice(n,n+=t));return r},e}},function(e,t,r){"use strict";e.exports=function(e,t){return r(3).apply(this,[e].concat(t))}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,o,i,s;if(t|=0,i=(e*=n=Math.pow(10,t))%1==.5*(s=e>0|-(e<0)),o=Math.floor(e),i)switch(r){case"PHP_ROUND_HALF_DOWN":e=o+(s<0);break;case"PHP_ROUND_HALF_EVEN":e=o+o%2*s;break;case"PHP_ROUND_HALF_ODD":e=o+!(o%2);break;default:e=o+(s>0)}return(i?e:Math.round(e))/n}},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)};e.exports=function(){var e,t,r,n=0,i=arguments,s=i.length,a=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},p=function e(t,r){var n=0,i=0,s=0,p=0,c=0;if(t===r)return 0;if("object"===(void 0===t?"undefined":o(t))){if("object"===(void 0===r?"undefined":o(r))){if(t=a(t),r=a(r),c=t.length,(p=r.length)>c)return 1;if(p<c)return-1;for(n=0,i=c;n<i;++n){if(1===(s=e(t[n],r[n])))return 1;if(-1===s)return-1}return 0}return-1}return"object"===(void 0===r?"undefined":o(r))?1:isNaN(r)&&!isNaN(t)?0===t?0:t<0?1:-1:isNaN(t)&&!isNaN(r)?0===r?0:r>0?1:-1:r===t?0:r>t?1:-1};if(0===s)throw new Error("At least one value should be passed to max()");if(1===s){if("object"!==o(i[0]))throw new Error("Wrong parameter count for max()");if(0===(e=a(i[0])).length)throw new Error("Array must contain at least one element for max()")}else e=i;for(t=e[0],n=1,r=e.length;n<r;++n)1===p(t,e[n])&&(t=e[n]);return t}},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)};e.exports=function(){var e,t,r,n=0,i=arguments,s=i.length,a=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},p=function e(t,r){var n=0,i=0,s=0,p=0,c=0;if(t===r)return 0;if("object"===(void 0===t?"undefined":o(t))){if("object"===(void 0===r?"undefined":o(r))){if(t=a(t),r=a(r),c=t.length,(p=r.length)>c)return 1;if(p<c)return-1;for(n=0,i=c;n<i;++n){if(1===(s=e(t[n],r[n])))return 1;if(-1===s)return-1}return 0}return-1}return"object"===(void 0===r?"undefined":o(r))?1:isNaN(r)&&!isNaN(t)?0===t?0:t<0?1:-1:isNaN(t)&&!isNaN(r)?0===r?0:r>0?1:-1:r===t?0:r>t?1:-1};if(0===s)throw new Error("At least one value should be passed to min()");if(1===s){if("object"!==o(i[0]))throw new Error("Wrong parameter count for min()");if(0===(e=a(i[0])).length)throw new Error("Array must contain at least one element for min()")}else e=i;for(t=e[0],n=1,r=e.length;n<r;++n)-1===p(t,e[n])&&(t=e[n]);return t}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(23);t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var o=/<\/?([a-z0-9]*)\b[^>]*>?/gi,i=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,s=n(e);for(s="<"===s.substring(s.length-1)?s.substring(0,s.length-1):s;;){var a=s;if(s=a.replace(i,"").replace(o,function(e,r){return t.indexOf("<"+r.toLowerCase()+">")>-1?e:""}),a===s)return s}}},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)};e.exports=function(e){switch(void 0===e?"undefined":o(e)){case"boolean":return e?"1":"";case"string":return e;case"number":return isNaN(e)?"NAN":isFinite(e)?e+"":(e<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(e)?"Array":null!==e?"Object":"";case"function":default:throw new Error("Unsupported value type")}}},function(e,t,r){"use strict";var n="(?:([ap])\\.?m\\.?([\\t ]|$))",o="(2[0-4]|[01]?[0-9])",i="([01][0-9]|2[0-4])",s="(0?[1-9]|1[0-2])",a="([0-5]?[0-9])",p="([0-5][0-9])",c="(60|[0-5]?[0-9])",l="(60|[0-5][0-9])",u="sunday|monday|tuesday|wednesday|thursday|friday|saturday",h=u+"|sun|mon|tue|wed|thu|fri|sat|weekdays?",f="first|second|third|fourth|fifth|sixth|seventh|eighth?|ninth|tenth|eleventh|twelfth",y="(?:second|sec|minute|min|hour|day|fortnight|forthnight|month|year)s?|weeks|"+h,d="([0-9]{1,4})",g="([0-9]{4})",m="(1[0-2]|0?[0-9])",x="(0[0-9]|1[0-2])",b="(?:(3[01]|[0-2]?[0-9])(?:st|nd|rd|th)?)",v="(0[0-9]|[1-2][0-9]|3[01])",w="january|february|march|april|may|june|july|august|september|october|november|december",k="jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec",T="("+w+"|"+k+"|i[vx]|vi{0,3}|xi{0,2}|i{1,3})",E="((?:GMT)?([+-])"+o+":?"+a+"?)";function O(e,t){switch(t=t&&t.toLowerCase()){case"a":e+=12===e?-12:0;break;case"p":e+=12!==e?12:0}return e}function j(e){var t=+e;return e.length<4&&t<100&&(t+=t<70?2e3:1900),t}function S(e){return{jan:0,january:0,i:0,feb:1,february:1,ii:1,mar:2,march:2,iii:2,apr:3,april:3,iv:3,may:4,v:4,jun:5,june:5,vi:5,jul:6,july:6,vii:6,aug:7,august:7,viii:7,sep:8,sept:8,september:8,ix:8,oct:9,october:9,x:9,nov:10,november:10,xi:10,dec:11,december:11,xii:11}[e.toLowerCase()]}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{mon:1,monday:1,tue:2,tuesday:2,wed:3,wednesday:3,thu:4,thursday:4,fri:5,friday:5,sat:6,saturday:6,sun:0,sunday:0}[e.toLowerCase()]||t}function _(e,t){if(!(e=e&&e.match(/(?:GMT)?([+-])(\d+)(:?)(\d{0,2})/i)))return t;var r="-"===e[1]?1:-1,n=+e[2],o=+e[4];return e[4]||e[3]||(o=Math.floor(n%100),n=Math.floor(n/100)),r*(60*n+o)}var N={yesterday:{regex:/^yesterday/i,name:"yesterday",callback:function(){return this.rd-=1,this.resetTime()}},now:{regex:/^now/i,name:"now"},noon:{regex:/^noon/i,name:"noon",callback:function(){return this.resetTime()&&this.time(12,0,0,0)}},midnightOrToday:{regex:/^(midnight|today)/i,name:"midnight | today",callback:function(){return this.resetTime()}},tomorrow:{regex:/^tomorrow/i,name:"tomorrow",callback:function(){return this.rd+=1,this.resetTime()}},timestamp:{regex:/^@(-?\d+)/i,name:"timestamp",callback:function(e,t){return this.rs+=+t,this.y=1970,this.m=0,this.d=1,this.dates=0,this.resetTime()&&this.zone(0)}},firstOrLastDay:{regex:/^(first|last) day of/i,name:"firstdayof | lastdayof",callback:function(e,t){"first"===t.toLowerCase()?this.firstOrLastDayOfMonth=1:this.firstOrLastDayOfMonth=-1}},backOrFrontOf:{regex:RegExp("^(back|front) of "+o+"[ \\t]*"+n+"?","i"),name:"backof | frontof",callback:function(e,t,r,n){var o=+r,i=15;return"back"===t.toLowerCase()||(o-=1,i=45),o=O(o,n),this.resetTime()&&this.time(o,i,0,0)}},weekdayOf:{regex:RegExp("^("+f+"|next|last|previous|this)[ \\t]+("+u+"|sun|mon|tue|wed|thu|fri|sat)[ \\t]+of","i"),name:"weekdayof"},mssqltime:{regex:RegExp("^"+s+":"+p+":"+l+"[:.]([0-9]+)"+n,"i"),name:"mssqltime",callback:function(e,t,r,n,o,i){return this.time(O(+t,i),+r,+n,+o.substr(0,3))}},timeLong12:{regex:RegExp("^"+s+"[:.]"+a+"[:.]"+l+"[ \\t]*"+n,"i"),name:"timelong12",callback:function(e,t,r,n,o){return this.time(O(+t,o),+r,+n,0)}},timeShort12:{regex:RegExp("^"+s+"[:.]"+p+"[ \\t]*"+n,"i"),name:"timeshort12",callback:function(e,t,r,n){return this.time(O(+t,n),+r,0,0)}},timeTiny12:{regex:RegExp("^"+s+"[ \\t]*"+n,"i"),name:"timetiny12",callback:function(e,t,r){return this.time(O(+t,r),0,0,0)}},soap:{regex:RegExp("^([0-9]{4})-"+x+"-"+v+"T"+i+":"+p+":"+l+"(?:\\.([0-9]+))"+E+"?","i"),name:"soap",callback:function(e,t,r,n,o,i,s,a,p){return this.ymd(+t,r-1,+n)&&this.time(+o,+i,+s,+a.substr(0,3))&&this.zone(_(p))}},wddx:{regex:RegExp("^([0-9]{4})-"+m+"-"+b+"T"+o+":"+a+":"+c),name:"wddx",callback:function(e,t,r,n,o,i,s){return this.ymd(+t,r-1,+n)&&this.time(+o,+i,+s,0)}},exif:{regex:RegExp("^([0-9]{4}):"+x+":"+v+" "+i+":"+p+":"+l,"i"),name:"exif",callback:function(e,t,r,n,o,i,s){return this.ymd(+t,r-1,+n)&&this.time(+o,+i,+s,0)}},xmlRpc:{regex:RegExp("^"+g+x+v+"T"+o+":"+p+":"+l),name:"xmlrpc",callback:function(e,t,r,n,o,i,s){return this.ymd(+t,r-1,+n)&&this.time(+o,+i,+s,0)}},xmlRpcNoColon:{regex:RegExp("^"+g+x+v+"[Tt]"+o+p+l),name:"xmlrpcnocolon",callback:function(e,t,r,n,o,i,s){return this.ymd(+t,r-1,+n)&&this.time(+o,+i,+s,0)}},clf:{regex:RegExp("^"+b+"/("+k+")/"+g+":"+i+":"+p+":"+l+"[ \\t]+"+E,"i"),name:"clf",callback:function(e,t,r,n,o,i,s,a){return this.ymd(+n,S(r),+t)&&this.time(+o,+i,+s,0)&&this.zone(_(a))}},iso8601long:{regex:RegExp("^t?"+o+"[:.]"+a+"[:.]"+c+"(?:\\.([0-9]+))","i"),name:"iso8601long",callback:function(e,t,r,n,o){return this.time(+t,+r,+n,+o.substr(0,3))}},dateTextual:{regex:RegExp("^"+T+"[ .\\t-]*"+b+"[,.stndrh\\t ]+"+d,"i"),name:"datetextual",callback:function(e,t,r,n){return this.ymd(j(n),S(t),+r)}},pointedDate4:{regex:RegExp("^"+b+"[.\\t-]"+m+"[.-]"+g),name:"pointeddate4",callback:function(e,t,r,n){return this.ymd(+n,r-1,+t)}},pointedDate2:{regex:RegExp("^"+b+"[.\\t]"+m+"\\.([0-9]{2})"),name:"pointeddate2",callback:function(e,t,r,n){return this.ymd(j(n),r-1,+t)}},timeLong24:{regex:RegExp("^t?"+o+"[:.]"+a+"[:.]"+c),name:"timelong24",callback:function(e,t,r,n){return this.time(+t,+r,+n,0)}},dateNoColon:{regex:RegExp("^"+g+x+v),name:"datenocolon",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},pgydotd:{regex:RegExp("^([0-9]{4})\\.?(00[1-9]|0[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6])"),name:"pgydotd",callback:function(e,t,r){return this.ymd(+t,0,+r)}},timeShort24:{regex:RegExp("^t?"+o+"[:.]"+a,"i"),name:"timeshort24",callback:function(e,t,r){return this.time(+t,+r,0,0)}},iso8601noColon:{regex:RegExp("^t?"+i+p+l,"i"),name:"iso8601nocolon",callback:function(e,t,r,n){return this.time(+t,+r,+n,0)}},iso8601dateSlash:{regex:RegExp("^([0-9]{4})/"+x+"/"+v+"/"),name:"iso8601dateslash",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},dateSlash:{regex:RegExp("^([0-9]{4})/"+m+"/"+b),name:"dateslash",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},american:{regex:RegExp("^"+m+"/"+b+"/"+d),name:"american",callback:function(e,t,r,n){return this.ymd(j(n),t-1,+r)}},americanShort:{regex:RegExp("^"+m+"/"+b),name:"americanshort",callback:function(e,t,r){return this.ymd(this.y,t-1,+r)}},gnuDateShortOrIso8601date2:{regex:RegExp("^"+d+"-"+m+"-"+b),name:"gnudateshort | iso8601date2",callback:function(e,t,r,n){return this.ymd(j(t),r-1,+n)}},iso8601date4:{regex:RegExp("^([+-]?[0-9]{4})-"+x+"-"+v),name:"iso8601date4",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},gnuNoColon:{regex:RegExp("^t"+i+p,"i"),name:"gnunocolon",callback:function(e,t,r){return this.time(+t,+r,0,this.f)}},gnuDateShorter:{regex:RegExp("^([0-9]{4})-"+m),name:"gnudateshorter",callback:function(e,t,r){return this.ymd(+t,r-1,1)}},pgTextReverse:{regex:RegExp("^(\\d{3,4}|[4-9]\\d|3[2-9])-("+k+")-"+v,"i"),name:"pgtextreverse",callback:function(e,t,r,n){return this.ymd(j(t),S(r),+n)}},dateFull:{regex:RegExp("^"+b+"[ \\t.-]*"+T+"[ \\t.-]*"+d,"i"),name:"datefull",callback:function(e,t,r,n){return this.ymd(j(n),S(r),+t)}},dateNoDay:{regex:RegExp("^"+T+"[ .\\t-]*"+g,"i"),name:"datenoday",callback:function(e,t,r){return this.ymd(+r,S(t),1)}},dateNoDayRev:{regex:RegExp("^([0-9]{4})[ .\\t-]*"+T,"i"),name:"datenodayrev",callback:function(e,t,r){return this.ymd(+t,S(r),1)}},pgTextShort:{regex:RegExp("^("+k+")-"+v+"-"+d,"i"),name:"pgtextshort",callback:function(e,t,r,n){return this.ymd(j(n),S(t),+r)}},dateNoYear:{regex:RegExp("^"+T+"[ .\\t-]*"+b+"[,.stndrh\\t ]*","i"),name:"datenoyear",callback:function(e,t,r){return this.ymd(this.y,S(t),+r)}},dateNoYearRev:{regex:RegExp("^"+b+"[ .\\t-]*"+T,"i"),name:"datenoyearrev",callback:function(e,t,r){return this.ymd(this.y,S(r),+t)}},isoWeekDay:{regex:RegExp("^([0-9]{4})-?W(0[1-9]|[1-4][0-9]|5[0-3])(?:-?([0-7]))?"),name:"isoweekday | isoweek",callback:function(e,t,r,n){if(n=n?+n:1,!this.ymd(+t,0,1))return!1;var o=new Date(this.y,this.m,this.d).getDay();o=0-(o>4?o-7:o),this.rd+=o+7*(r-1)+n}},relativeText:{regex:RegExp("^("+f+"|next|last|previous|this)[ \\t]+("+y+")","i"),name:"relativetext",callback:function(e,t,r){var n,o={amount:{last:-1,previous:-1,this:0,first:1,next:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eight:8,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12}[n=t.toLowerCase()],behavior:{this:1}[n]||0},i=o.amount;switch(r.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=i;break;case"min":case"mins":case"minute":case"minutes":this.ri+=i;break;case"hour":case"hours":this.rh+=i;break;case"day":case"days":this.rd+=i;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*i;break;case"week":case"weeks":this.rd+=7*i;break;case"month":case"months":this.rm+=i;break;case"year":case"years":this.ry+=i;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=A(r,7),this.weekdayBehavior=1,this.rd+=7*(i>0?i-1:i)}}},relative:{regex:RegExp("^([+-]*)[ \\t]*(\\d+)[ \\t]*("+y+"|week)","i"),name:"relative",callback:function(e,t,r,n){var o=t.replace(/[^-]/g,"").length,i=+r*Math.pow(-1,o);switch(n.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=i;break;case"min":case"mins":case"minute":case"minutes":this.ri+=i;break;case"hour":case"hours":this.rh+=i;break;case"day":case"days":this.rd+=i;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*i;break;case"week":case"weeks":this.rd+=7*i;break;case"month":case"months":this.rm+=i;break;case"year":case"years":this.ry+=i;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=A(n,7),this.weekdayBehavior=1,this.rd+=7*(i>0?i-1:i)}}},dayText:{regex:RegExp("^("+h+")","i"),name:"daytext",callback:function(e,t){this.resetTime(),this.weekday=A(t,0),2!==this.weekdayBehavior&&(this.weekdayBehavior=1)}},relativeTextWeek:{regex:RegExp("^(next|last|previous|this)[ \\t]+week","i"),name:"relativetextweek",callback:function(e,t){switch(this.weekdayBehavior=2,t.toLowerCase()){case"this":this.rd+=0;break;case"next":this.rd+=7;break;case"last":case"previous":this.rd-=7}isNaN(this.weekday)&&(this.weekday=1)}},monthFullOrMonthAbbr:{regex:RegExp("^("+w+"|"+k+")","i"),name:"monthfull | monthabbr",callback:function(e,t){return this.ymd(this.y,S(t),this.d)}},tzCorrection:{regex:RegExp("^"+E,"i"),name:"tzcorrection",callback:function(e){return this.zone(_(e))}},ago:{regex:/^ago/i,name:"ago",callback:function(){this.ry=-this.ry,this.rm=-this.rm,this.rd=-this.rd,this.rh=-this.rh,this.ri=-this.ri,this.rs=-this.rs,this.rf=-this.rf}},gnuNoColon2:{regex:RegExp("^"+i+p,"i"),name:"gnunocolon",callback:function(e,t,r){return this.time(+t,+r,0,this.f)}},year4:{regex:RegExp("^"+g),name:"year4",callback:function(e,t){return this.y=+t,!0}},whitespace:{regex:/^[ .,\t]+/,name:"whitespace"},any:{regex:/^[\s\S]+/,name:"any",callback:function(){return!1}}},P={y:NaN,m:NaN,d:NaN,h:NaN,i:NaN,s:NaN,f:NaN,ry:0,rm:0,rd:0,rh:0,ri:0,rs:0,rf:0,weekday:NaN,weekdayBehavior:0,firstOrLastDayOfMonth:0,z:NaN,dates:0,times:0,zones:0,ymd:function(e,t,r){return!(this.dates>0)&&(this.dates++,this.y=e,this.m=t,this.d=r,!0)},time:function(e,t,r,n){return!(this.times>0)&&(this.times++,this.h=e,this.i=t,this.s=r,this.f=n,!0)},resetTime:function(){return this.h=0,this.i=0,this.s=0,this.f=0,this.times=0,!0},zone:function(e){return this.zones<=1&&(this.zones++,this.z=e,!0)},toDate:function(e){switch(this.dates&&!this.times&&(this.h=this.i=this.s=this.f=0),isNaN(this.y)&&(this.y=e.getFullYear()),isNaN(this.m)&&(this.m=e.getMonth()),isNaN(this.d)&&(this.d=e.getDate()),isNaN(this.h)&&(this.h=e.getHours()),isNaN(this.i)&&(this.i=e.getMinutes()),isNaN(this.s)&&(this.s=e.getSeconds()),isNaN(this.f)&&(this.f=e.getMilliseconds()),this.firstOrLastDayOfMonth){case 1:this.d=1;break;case-1:this.d=0,this.m+=1}if(!isNaN(this.weekday)){var t=new Date(e.getTime());t.setFullYear(this.y,this.m,this.d),t.setHours(this.h,this.i,this.s,this.f);var r=t.getDay();if(2===this.weekdayBehavior)0===r&&0!==this.weekday&&(this.weekday=-6),0===this.weekday&&0!==r&&(this.weekday=7),this.d-=r,this.d+=this.weekday;else{var n=this.weekday-r;(this.rd<0&&n<0||this.rd>=0&&n<=-this.weekdayBehavior)&&(n+=7),this.weekday>=0?this.d+=n:this.d-=7-(Math.abs(this.weekday)-r),this.weekday=NaN}}this.y+=this.ry,this.m+=this.rm,this.d+=this.rd,this.h+=this.rh,this.i+=this.ri,this.s+=this.rs,this.f+=this.rf,this.ry=this.rm=this.rd=0,this.rh=this.ri=this.rs=this.rf=0;var o=new Date(e.getTime());switch(o.setFullYear(this.y,this.m,this.d),o.setHours(this.h,this.i,this.s,this.f),this.firstOrLastDayOfMonth){case 1:o.setDate(1);break;case-1:o.setMonth(o.getMonth()+1,0)}return isNaN(this.z)||o.getTimezoneOffset()===this.z||(o.setUTCFullYear(o.getFullYear(),o.getMonth(),o.getDate()),o.setUTCHours(o.getHours(),o.getMinutes()+this.z,o.getSeconds(),o.getMilliseconds())),o}};e.exports=function(e,t){null==t&&(t=Math.floor(Date.now()/1e3));for(var r=[N.yesterday,N.now,N.noon,N.midnightOrToday,N.tomorrow,N.timestamp,N.firstOrLastDay,N.backOrFrontOf,N.mssqltime,N.timeLong12,N.timeShort12,N.timeTiny12,N.soap,N.wddx,N.exif,N.xmlRpc,N.xmlRpcNoColon,N.clf,N.iso8601long,N.dateTextual,N.pointedDate4,N.pointedDate2,N.timeLong24,N.dateNoColon,N.pgydotd,N.timeShort24,N.iso8601noColon,N.iso8601dateSlash,N.dateSlash,N.american,N.americanShort,N.gnuDateShortOrIso8601date2,N.iso8601date4,N.gnuNoColon,N.gnuDateShorter,N.pgTextReverse,N.dateFull,N.dateNoDay,N.dateNoDayRev,N.pgTextShort,N.dateNoYear,N.dateNoYearRev,N.isoWeekDay,N.relativeText,N.relative,N.dayText,N.relativeTextWeek,N.monthFullOrMonthAbbr,N.tzCorrection,N.ago,N.gnuNoColon2,N.year4,N.whitespace,N.any],n=Object.create(P);e.length;)for(var o=0,i=r.length;o<i;o++){var s=r[o],a=e.match(s.regex);if(a){if(s.callback&&!1===s.callback.apply(n,a))return!1;e=e.substr(a[0].length);break}}return Math.floor(n.toDate(new Date(1e3*t))/1e3)}},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,o=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],i=/\\?(.?)/gi,s=function(e,t){return n[e]?n[e]():t},a=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e};n={d:function(){return a(n.j(),2)},D:function(){return n.l().slice(0,3)},j:function(){return r.getDate()},l:function(){return o[n.w()]+"day"},N:function(){return n.w()||7},S:function(){var e=n.j(),t=e%10;return t<=3&&1===parseInt(e%100/10,10)&&(t=0),["st","nd","rd"][t-1]||"th"},w:function(){return r.getDay()},z:function(){var e=new Date(n.Y(),n.n()-1,n.j()),t=new Date(n.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(n.Y(),n.n()-1,n.j()-n.N()+3),t=new Date(e.getFullYear(),0,4);return a(1+Math.round((e-t)/864e5/7),2)},F:function(){return o[6+n.n()]},m:function(){return a(n.n(),2)},M:function(){return n.F().slice(0,3)},n:function(){return r.getMonth()+1},t:function(){return new Date(n.Y(),n.n(),0).getDate()},L:function(){var e=n.Y();return e%4==0&e%100!=0|e%400==0},o:function(){var e=n.n(),t=n.W();return n.Y()+(12===e&&t<9?1:1===e&&t>9?-1:0)},Y:function(){return r.getFullYear()},y:function(){return n.Y().toString().slice(-2)},a:function(){return r.getHours()>11?"pm":"am"},A:function(){return n.a().toUpperCase()},B:function(){var e=3600*r.getUTCHours(),t=60*r.getUTCMinutes(),n=r.getUTCSeconds();return a(Math.floor((e+t+n+3600)/86.4)%1e3,3)},g:function(){return n.G()%12||12},G:function(){return r.getHours()},h:function(){return a(n.g(),2)},H:function(){return a(n.G(),2)},i:function(){return a(r.getMinutes(),2)},s:function(){return a(r.getSeconds(),2)},u:function(){return a(1e3*r.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(n.Y(),0)-Date.UTC(n.Y(),0)!=new Date(n.Y(),6)-Date.UTC(n.Y(),6)?1:0},O:function(){var e=r.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+a(100*Math.floor(t/60)+t%60,4)},P:function(){var e=n.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-r.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,s)},r:function(){return"D, d M Y H:i:s O".replace(i,s)},U:function(){return r/1e3|0}};return function(e,t){return r=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),e.replace(i,s)}(e,t)}},function(e,t,r){"use strict";e.exports=function(e){return!1!==e&&(0!==e&&0!==e&&(""!==e&&"0"!==e&&((!Array.isArray(e)||0!==e.length)&&null!=e)))}},function(e,t,r){"use strict";e.exports=function(e){e.Templates.registerLoader("ajax",function(t,r,n,o){var i,s=r.precompiled,a=this.parsers[r.parser]||this.parser.twig;if("undefined"==typeof XMLHttpRequest)throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');var p=new XMLHttpRequest;return p.onreadystatechange=function(){var c=null;4===p.readyState&&(200===p.status||window.cordova&&0===p.status?(e.log.debug("Got template ",p.responseText),c=!0===s?JSON.parse(p.responseText):p.responseText,r.url=t,r.data=c,i=a.call(this,r),"function"==typeof n&&n(i)):"function"==typeof o&&o(p))},p.open("GET",t,Boolean(r.async)),p.send(),!!r.async||i})}},function(e,t,r){"use strict";e.exports=function(e){var t,n;try{t=r(29),n=r(4)}catch(o){console.warn("Missing fs and path modules. "+o)}e.Templates.registerLoader("fs",function(r,i,s,a){var p,c,l=i.precompiled,u=this.parsers[i.parser]||this.parser.twig;if(!t||!n)throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');var h=function(e,t){e?"function"==typeof a&&a(e):(!0===l&&(t=JSON.parse(t)),i.data=t,i.path=i.path||r,p=u.call(this,i),"function"==typeof s&&s(p))};if(i.path=i.path||r,i.async)return t.stat(i.path,function(r,n){!r&&n.isFile()?t.readFile(i.path,"utf8",h):"function"==typeof a&&a(new e.Error("Unable to find template file "+i.path))}),!0;try{if(!t.statSync(i.path).isFile())throw new e.Error("Unable to find template file "+i.path)}catch(o){throw new e.Error("Unable to find template file "+i.path+". "+o)}return c=t.readFileSync(i.path,"utf8"),h(void 0,c),p})}},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";var n=r(0)(r(2));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,n.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}e.exports=function(e){for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",apply:"Twig.logic.type.apply",endapply:"Twig.logic.type.endapply",do:"Twig.logic.type.do",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith",deprecated:"Twig.logic.type.deprecated"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s?([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile:function(t){var r=t.match[1];return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse:function(t,r,n){var o=this;return e.expression.parseAsync.call(o,t.stack,r).then(function(i){return n=!0,e.lib.boolval(i)?(n=!1,o.parseAsync(t.output,r)):""}).then(function(e){return{chain:n,output:e}})}},{type:e.logic.type.elseif,regex:/^elseif\s?([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile:function(t){var r=t.match[1];return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse:function(t,r,n){var o=this;return e.expression.parseAsync.call(o,t.stack,r).then(function(i){return n&&e.lib.boolval(i)?(n=!1,o.parseAsync(t.output,r)):""}).then(function(e){return{chain:n,output:e}})}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse:function(t,r,n){var o=e.Promise.resolve("");return n&&(o=this.parseAsync(t.output,r)),o.then(function(e){return{chain:n,output:e}})}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile:function(t){var r=t.match[1],n=t.match[2],o=t.match[3],i=null;if(t.keyVar=null,t.valueVar=null,r.includes(",")){if(2!==(i=r.split(",")).length)throw new e.Error("Invalid expression in for loop: "+r);t.keyVar=i[0].trim(),t.valueVar=i[1].trim()}else t.valueVar=r.trim();return t.expression=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,o&&(t.conditional=e.expression.compile.call(this,{type:e.expression.type.expression,value:o}).stack),delete t.match,t},parse:function(t,r,n){var o,s,a=[],p=0,c=this,l=t.conditional,u=function(n,s){var u=i({},r);return u[t.valueVar]=s,t.keyVar&&(u[t.keyVar]=n),u.loop=function(e,t){var n=void 0!==l;return{index:e+1,index0:e,revindex:n?void 0:t-e,revindex0:n?void 0:t-e-1,first:0===e,last:n?void 0:e===t-1,length:n?void 0:t,parent:r}}(p,o),(void 0===l?e.Promise.resolve(!0):e.expression.parseAsync.call(c,l,u)).then(function(e){if(e)return c.parseAsync(t.output,u).then(function(e){a.push(e),p+=1})}).then(function(){delete u.loop,delete u[t.valueVar],delete u[t.keyVar],e.merge(r,u,!0)})};return e.expression.parseAsync.call(c,t.expression,r).then(function(t){return Array.isArray(t)?(o=t.length,e.async.forEach(t,function(e){return u(p,e)})):e.lib.is("Object",t)?(s=void 0===t._keys?Object.keys(t):t._keys,o=s.length,e.async.forEach(s,function(e){if("_keys"!==e)return u(e,t[e])})):void 0}).then(function(){return{chain:0===a.length,context:r,output:e.output.call(c.template,a)}})}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim(),n=t.match[2],o=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack;return t.key=r,t.expression=o,delete t.match,t},parse:function(t,r,n){var o=t.key;return e.expression.parseAsync.call(this,t.expression,r).then(function(e){return e===r&&(e=i({},e)),r[o]=e,{chain:n,context:r}})}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile:function(e){var t=e.match[1].trim();return e.key=t,delete e.match,e},parse:function(e,t,r){var n=this,o=e.key;return n.parseAsync(e.output,t).then(function(e){return n.context[o]=e,t[o]=e,{chain:r,context:t}})}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile:function(t){var r="|"+t.match[1].trim();return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse:function(t,r,n){var o=this;return o.parseAsync(t.output,r).then(function(n){var i=[{type:e.expression.type.string,value:n}].concat(t.stack);return e.expression.parseAsync.call(o,i,r)}).then(function(e){return{chain:n,output:e}})}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.apply,regex:/^apply\s+(.+)$/,next:[e.logic.type.endapply],open:!0,compile:function(t){var r="|"+t.match[1].trim();return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse:function(t,r,n){var o=this;return o.parseAsync(t.output,r).then(function(n){var i=[{type:e.expression.type.string,value:n}].concat(t.stack);return e.expression.parseAsync.call(o,i,r)}).then(function(e){return{chain:n,output:e}})}},{type:e.logic.type.endapply,regex:/^endapply$/,next:[],open:!1},{type:e.logic.type.do,regex:/^do\s+([\S\s]+)$/,next:[],open:!0,compile:function(t){var r=t.match[1],n=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack;return t.expression=n,delete t.match,t},parse:function(t,r,n){return e.expression.parseAsync.call(this,t.expression,r).then(function(){return{chain:n,context:r}})}},{type:e.logic.type.block,regex:/^block\s+(\w+)$/,next:[e.logic.type.endblock],open:!0,compile:function(e){return e.blockName=e.match[1].trim(),delete e.match,e},parse:function(t,r,n){var o=e.Promise.resolve();return this.template.blocks.defined[t.blockName]=new e.Block(this.template,t),(null===this.template.parentTemplate||this.template.parentTemplate instanceof e.Template)&&(o=this.getBlock(t.blockName).render(this,r)),o.then(function(e){return{chain:n,output:e}})}},{type:e.logic.type.shortblock,regex:/^block\s+(\w+)\s+(.+)$/,next:[],open:!0,compile:function(t){return t.expression=t.match[2].trim(),t.output=e.expression.compile({type:e.expression.type.expression,value:t.expression}).stack,e.logic.handler[e.logic.type.block].compile.apply(this,[t])},parse:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.logic.handler[e.logic.type.block].parse.apply(this,r)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+(\w+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,t},parse:function(t,r,n){var o=this;return e.expression.parseAsync.call(o,t.stack,r).then(function(e){return o.template.parentTemplate=e,{chain:n,output:""}})}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,t},parse:function(t,r,n){var o=this;return e.expression.parseAsync.call(o,t.stack,r).then(function(t){var r=o.template.importFile(t),n=new e.ParseState(r);return n.parseAsync(r.tokens).then(function(){o.template.blocks.imported=i({},o.template.blocks.imported,{},n.getBlocks())})}).then(function(){return{chain:n,output:""}})}},{type:e.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile:function(t){var r=t.match,n=r[1].trim(),o=void 0!==r[2],i=r[3],s=void 0!==r[4]&&r[4].length;return delete t.match,t.only=s,t.ignoreMissing=o,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,void 0!==i&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:i.trim()}).stack),t},parse:function(t,r,n){var o=t.only?{}:i({},r),s=t.ignoreMissing,a=this,p={chain:n,output:""};return(void 0===t.withStack?e.Promise.resolve():e.expression.parseAsync.call(a,t.withStack,r).then(function(e){o=i({},o,{},e)})).then(function(){return e.expression.parseAsync.call(a,t.stack,r)}).then(function(t){var r=(Array.isArray(t)?t:[t]).reduce(function(t,r){if(null===t.render){if(r instanceof e.Template)return{render:r.renderAsync(o,{isInclude:!0}),lastError:null};try{return{render:a.template.importFile(r).renderAsync(o,{isInclude:!0}),lastError:null}}catch(n){return{render:null,lastError:n}}}return t},{render:null,lastError:null});if(null!==r.render)return r.render;if(null===r.render&&s)return"";throw r.lastError}).then(function(e){return""!==e&&(p.output=e),p})}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse:function(t,r,n){return this.parseAsync(t.output,r).then(function(t){var r=t.replace(/>\s+</g,"><").trim();return r=new e.Markup(r),{chain:n,output:r}})}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+(\w+)\s*\(\s*((?:\w+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile:function(t){var r=t.match[1],n=t.match[2].split(/\s*,\s*/),o=n.map(function(e){return e.split(/\s*=\s*/)[0]}),i=o.length;if(i>1)for(var s={},a=0;a<i;a++){var p=o[a];if(s[p])throw new e.Error("Duplicate arguments for parameter: "+p);s[p]=1}return t.macroName=r,t.parameters=o,t.defaults=n.reduce(function(t,r){var n=r.split(/\s*=\s*/),o=n[0],i=n[1];return t[o]=i?e.expression.compile.call(this,{type:e.expression.type.expression,value:i}).stack:void 0,t},{}),delete t.match,t},parse:function(t,r,n){var o=this;return o.macros[t.macroName]=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a={_self:o.macros};return e.async.forEach(t.parameters,function(n,o){return void 0!==i[o]?(a[n]=i[o],!0):void 0!==t.defaults[n]?e.expression.parseAsync.call(this,t.defaults[n],r).then(function(t){return a[n]=t,e.Promise.resolve()}):(a[n]=void 0,!0)}).then(function(){return o.parseAsync(t.output,a)})},{chain:n,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+(\w+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim(),n=t.match[2].trim();return delete t.match,t.expression=r,t.contextName=n,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,t},parse:function(t,r,n){var o=this,i={chain:n,output:""};return"_self"===t.expression?(r[t.contextName]=o.macros,i):e.expression.parseAsync.call(o,t.stack,r).then(function(e){return o.template.importFile(e||t.expression)}).then(function(n){var o=new e.ParseState(n);return o.parseAsync(n.tokens).then(function(){return r[t.contextName]=o.macros,i})})}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim(),n=t.match[2].trim().split(/\s*,\s*/),o={},i=!0,s=!1,a=void 0;try{for(var p,c=n[Symbol.iterator]();!(i=(p=c.next()).done);i=!0){var l=p.value,u=l.match(/^(\w+)\s+as\s+(\w+)$/);u?o[u[1].trim()]=u[2].trim():l.match(/^(\w+)$/)&&(o[l]=l)}}catch(h){s=!0,a=h}finally{try{i||null==c.return||c.return()}finally{if(s)throw a}}return delete t.match,t.expression=r,t.macroNames=o,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,t},parse:function(t,r,n){var o=this;return("_self"===t.expression?e.Promise.resolve(o.macros):e.expression.parseAsync.call(o,t.stack,r).then(function(e){return o.template.importFile(e||t.expression)}).then(function(t){var r=new e.ParseState(t);return r.parseAsync(t.tokens).then(function(){return r.macros})})).then(function(e){for(var o in t.macroNames)void 0!==e[o]&&(r[t.macroNames[o]]=e[o]);return{chain:n,output:""}})}},{type:e.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[e.logic.type.endembed],open:!0,compile:function(t){var r=t.match,n=r[1].trim(),o=void 0!==r[2],i=r[3],s=void 0!==r[4]&&r[4].length;return delete t.match,t.only=s,t.ignoreMissing=o,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,void 0!==i&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:i.trim()}).stack),t},parse:function(t,r,n){var o={},s=e.Promise.resolve(),a=this;return t.only||(o=i({},r)),void 0!==t.withStack&&(s=e.expression.parseAsync.call(a,t.withStack,r).then(function(e){o=i({},o,{},e)})),s.then(function(){return e.expression.parseAsync.call(a,t.stack,o)}).then(function(r){var n=new e.Template({data:t.output,id:a.template.id,base:a.template.base,path:a.template.path,url:a.template.url,name:a.template.name,method:a.template.method,options:a.template.options});try{n.importFile(r)}catch(i){if(t.ignoreMissing)return"";throw a=null,i}return n.parentTemplate=r,n.renderAsync(o,{isInclude:!0})}).then(function(e){return{chain:n,output:e}})}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:e.logic.type.with,regex:/^(?:with\s+([\S\s]+?))(?:\s|$)(only)?$/,next:[e.logic.type.endwith],open:!0,compile:function(t){var r=t.match,n=r[1],o=void 0!==r[2]&&r[2].length;return delete t.match,t.only=o,void 0!==n&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n.trim()}).stack),t},parse:function(t,r,n){var o,s={},a=this,p=e.Promise.resolve();return t.only||(s=i({},r)),void 0!==t.withStack&&(p=e.expression.parseAsync.call(a,t.withStack,r).then(function(e){for(o in e)Object.hasOwnProperty.call(e,o)&&(s[o]=e[o])})),p.then(function(){return a.parseAsync(t.output,s)}).then(function(e){return{chain:n,output:e}})}},{type:e.logic.type.endwith,regex:/^endwith$/,next:[],open:!1},{type:e.logic.type.deprecated,regex:/^deprecated\s+(.+)$/,next:[],open:!0,compile:function(e){return console.warn("Deprecation notice: "+e.match[1]),e},parse:function(){return{}}}],e.logic.handler={},e.logic.extendType=function(t,r){r=r||"Twig.logic.type"+t,e.logic.type[t]=r},e.logic.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.logic.extendType(t.type),e.logic.handler[t.type]=t};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(t){var r=t.value.trim(),n=e.logic.tokenize.call(this,r),o=e.logic.handler[n.type];return o.compile&&(n=o.compile.call(this,n),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",n)),n},e.logic.tokenize=function(t){var r=null,n=null,o=null,i=null,s=null,a=null,p=null;for(r in t=t.trim(),e.logic.handler)if(Object.hasOwnProperty.call(e.logic.handler,r))for(n=e.logic.handler[r].type,i=o=e.logic.handler[r].regex,Array.isArray(o)||(i=[o]),s=i.length,a=0;a<s;a++)if(null!==(p=i[a].exec(t)))return e.log.trace("Twig.logic.tokenize: ","Matched a ",n," regular expression of ",p),{type:n,match:p};throw new e.Error("Unable to parse '"+t.trim()+"'")},e.logic.parse=function(t,r,n,o){return e.async.potentiallyAsync(this,o,function(){e.log.debug("Twig.logic.parse: ","Parsing logic token ",t);var o,i=e.logic.handler[t.type],s=this;return i.parse?(s.nestingStack.unshift(t),o=i.parse.call(s,t,r||{},n),e.isPromise(o)?o=o.then(function(e){return s.nestingStack.shift(),e}):s.nestingStack.shift(),o):""})},e}},function(e,t,r){"use strict";e.exports=function(e){e.Templates.registerParser("source",function(e){return e.data||""})}},function(e,t,r){"use strict";e.exports=function(e){e.Templates.registerParser("twig",function(t){return new e.Template(t)})}},function(e,t,r){"use strict";var n=r(0)(r(1));e.exports=function(e){return e.path={},e.path.parsePath=function(t,r){var o=null,i=t.options.namespaces,s=r||"";if(i&&"object"===(0,n.default)(i))for(o in i)if(s.includes(o)){var a=new RegExp("^"+o+"::"),p=new RegExp("^@"+o+"/"),c=i[o].replace(/([^\/])$/,"$1/");if(a.test(s))return s=s.replace(a,c);if(p.test(s))return s=s.replace(p,c)}return e.path.relativePath(t,s)},e.path.relativePath=function(t,n){var o,i,s,a="/",p=[],c=n||"";if(t.url)o=void 0===t.base?t.url:t.base.replace(/([^\/])$/,"$1/");else if(t.path){var l=r(4),u=l.sep||a,h=new RegExp("^\\.{1,2}"+u.replace("\\","\\\\"));c=c.replace(/\//g,u),void 0!==t.base&&null===c.match(h)?(c=c.replace(t.base,""),o=t.base+u):o=l.normalize(t.path),o=o.replace(u+u,u),a=u}else{if(!t.name&&!t.id||!t.method||"fs"===t.method||"ajax"===t.method)throw new e.Error("Cannot extend an inline template.");o=t.base||t.name||t.id}for((i=o.split(a)).pop(),i=i.concat(c.split(a));i.length>0;)"."===(s=i.shift())||(".."===s&&p.length>0&&".."!==p[p.length-1]?p.pop():p.push(s));return p.join(a)},e}},function(e,t,r){"use strict";e.exports=function(e){return e.tests={empty:function(e){if(null==e)return!0;if("number"==typeof e)return!1;if(e.length>0)return!1;for(var t in e)if(Object.hasOwnProperty.call(e,t))return!1;return!0},odd:function(e){return e%2==1},even:function(e){return e%2==0},divisibleby:function(e,t){return e%t[0]==0},defined:function(e){return void 0!==e},none:function(e){return null===e},null:function(e){return this.none(e)},"same as":function(e,t){return e===t[0]},sameas:function(t,r){return console.warn("`sameas` is deprecated use `same as`"),e.tests["same as"](t,r)},iterable:function(t){return t&&(e.lib.is("Array",t)||e.lib.is("Object",t))}},e.test=function(t,r,n){if(!e.tests[t])throw e.Error("Test "+t+" is not defined.");return e.tests[t](r,n)},e.test.extend=function(t,r){e.tests[t]=r},e}},function(e,t,r){"use strict";e.exports=function(e){var t=1,r=2;return e.ParseState.prototype.parseAsync=function(e,t){return this.parse(e,t,!0)},e.expression.parseAsync=function(t,r,n){return e.expression.parse.call(this,t,r,n,!0)},e.logic.parseAsync=function(t,r,n){return e.logic.parse.call(this,t,r,n,!0)},e.Template.prototype.renderAsync=function(e,t){return this.render(e,t,!0)},e.async={},e.isPromise=function(e){return e&&e.then&&"function"==typeof e.then},e.async.potentiallyAsync=function(t,r,n){return r?e.Promise.resolve(n.call(t)):function(t,r,n){var o=n.call(t),i=null,s=!0;if(!e.isPromise(o))return o;if(o.then(function(e){o=e,s=!1}).catch(function(e){i=e}),null!==i)throw i;if(s)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return o}(t,0,n)},e.Thenable=function(e,t,r){this.then=e,this._value=r?t:null,this._state=r||0},e.Thenable.prototype.catch=function(e){return this._state===t?this:this.then(null,e)},e.Thenable.resolvedThen=function(t){try{return e.Promise.resolve(t(this._value))}catch(r){return e.Promise.reject(r)}},e.Thenable.rejectedThen=function(t,r){if(!r||"function"!=typeof r)return this;var n,o=this._value;try{n=r(o)}catch(i){n=e.Promise.reject(i)}return e.Promise.resolve(n)},e.Promise=function(n){var o=0,i=null,s=function(e,t){o=e,i=t};return function(e,t,r){try{e(t,r)}catch(n){r(n)}}(n,function(e){s(t,e)},function(e){s(r,e)}),o===t?e.Promise.resolve(i):o===r?e.Promise.reject(i):(s=new e.FullPromise).promise},e.FullPromise=function(){var r=null;function n(e){e(a._value)}function o(e,t){t(a._value)}var i=function(e,t){r=function(e,t,r){var n=[t,r,-2];return e?-2===e[2]?e=[e,n]:e.push(n):e=n,e}(r,e,t)};function s(e,s){if(!a._state&&(a._value=s,a._state=e,i=e===t?n:o,r)){if(-2===r[2])return i(r[0],r[1]),void(r=null);r.forEach(function(e){i(e[0],e[1])}),r=null}}var a=new e.Thenable(function(r,n){var o="function"==typeof r;if(a._state===t&&!o)return e.Promise.resolve(a._value);if(a._state===t)try{return e.Promise.resolve(r(a._value))}catch(p){return e.Promise.reject(p)}var s="function"==typeof n;return new e.Promise(function(e,t){i(o?function(n){try{e(r(n))}catch(p){t(p)}}:e,s?function(r){try{e(n(r))}catch(p){t(p)}}:t)})});return s.promise=a,s},e.Promise.defaultResolved=new e.Thenable(e.Thenable.resolvedThen,void 0,t),e.Promise.emptyStringResolved=new e.Thenable(e.Thenable.resolvedThen,"",t),e.Promise.resolve=function(r){return 0===arguments.length||void 0===r?e.Promise.defaultResolved:e.isPromise(r)?r:""===r?e.Promise.emptyStringResolved:new e.Thenable(e.Thenable.resolvedThen,r,t)},e.Promise.reject=function(t){return new e.Thenable(e.Thenable.rejectedThen,t,r)},e.Promise.all=function(r){var n=new Array(r.length);return e.async.forEach(r,function(r,o){if(e.isPromise(r)){if(r._state!==t)return r.then(function(e){n[o]=e});n[o]=r._value}else n[o]=r}).then(function(){return n})},e.async.forEach=function(r,n){var o=r.length,i=0;return function s(){var a=null;do{if(i===o)return e.Promise.resolve();a=n(r[i],i),i++}while(!a||!e.isPromise(a)||a._state===t);return a.then(s)}()},e}},function(e,t,r){"use strict";e.exports=function(e){return e.exports={VERSION:e.VERSION},e.exports.twig=function(t){var r=t.id,n={strictVariables:t.strict_variables||!1,autoescape:null!==t.autoescape&&t.autoescape||!1,allowInlineIncludes:t.allowInlineIncludes||!1,rethrow:t.rethrow||!1,namespaces:t.namespaces};if(e.cache&&r&&e.validateId(r),void 0!==t.debug&&(e.debug=t.debug),void 0!==t.trace&&(e.trace=t.trace),void 0!==t.data)return e.Templates.parsers.twig({data:t.data,path:Object.hasOwnProperty.call(t,"path")?t.path:void 0,module:t.module,id:r,options:n});if(void 0!==t.ref){if(void 0!==t.id)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(t.ref)}if(void 0!==t.method){if(!e.Templates.isRegisteredLoader(t.method))throw new e.Error('Loader for "'+t.method+'" is not defined.');return e.Templates.loadRemote(t.name||t.href||t.path||r||void 0,{id:r,method:t.method,parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:n},t.load,t.error)}return void 0!==t.href?e.Templates.loadRemote(t.href,{id:r,method:"ajax",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:n},t.load,t.error):void 0!==t.path?e.Templates.loadRemote(t.path,{id:r,method:"fs",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:n},t.load,t.error):void 0},e.exports.extendFilter=function(t,r){e.filter.extend(t,r)},e.exports.extendFunction=function(t,r){e._function.extend(t,r)},e.exports.extendTest=function(t,r){e.test.extend(t,r)},e.exports.extendTag=function(t){e.logic.extend(t)},e.exports.extend=function(t){t(e)},e.exports.compile=function(t,r){var n=r.filename,o=r.filename,i=new e.Template({data:t,path:o,id:n,options:r.settings["twig options"]});return function(e){return i.render(e)}},e.exports.renderFile=function(t,r,n){"function"==typeof r&&(n=r,r={});var o=(r=r||{}).settings||{},i=o["twig options"],s={path:t,base:o.views,load:function(e){i&&i.allowAsync?e.renderAsync(r).then(function(e){return n(null,e)},n):n(null,String(e.render(r)))}};if(i)for(var a in i)Object.hasOwnProperty.call(i,a)&&(s[a]=i[a]);e.exports.twig(s)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(t){e.cache=t},e.exports.path=e.path,e.exports.filters=e.filters,e.exports.tests=e.tests,e.exports.Promise=e.Promise,e}}])});
},{"path":"D9+F","fs":"vNz/"}],"1YVD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("twig"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(t,r){return(0,e.default.twig)({data:r}).render(t)};exports.default=r;
},{"twig":"befd"}],"0KJL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("./utilities"),e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-report]";$(e).each(function(){var e=$(this),a=e.data(),o=a.report,t=a.reportType;if(!a.bind){e.data("bind",!0);var r='\n    <div\n  class="modal fade"\n  role="dialog"\n  tabindex="-1"\n>\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title">举报</h5>\n        <button\n          type="button"\n          class="close"\n          data-dismiss="modal"\n          aria-label="Close"\n        >\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form action="/api/'.concat(t,"/").concat(o,'/report" method="post">\n          <div class="form-group">\n            <label>选择类别</label>\n            <div class="form-check mb-2">\n              <input\n                class="form-check-input"\n                type="radio"\n                name="reportType"\n                id="reportCategory1"\n                value="推广广告：广告推广、垃圾信息"\n                checked\n              />\n              <label class="form-check-label" for="reportCategory1">\n                推广广告：广告推广、垃圾信息\n              </label>\n            </div>\n            <div class="form-check mb-2">\n              <input\n                class="form-check-input"\n                type="radio"\n                name="reportType"\n                id="reportCategory2"\n                value="违规内容：色情、暴力、政治敏感等"\n              />\n              <label class="form-check-label" for="reportCategory2">\n                违规内容：色情、暴力、政治敏感等\n              </label>\n            </div>\n            <div class="form-check mb-2">\n              <input\n                class="form-check-input"\n                type="radio"\n                name="reportType"\n                id="reportCategory3"\n                value="不友善内容：人身攻击、挑衅辱骂、恶意骚扰等"\n              />\n              <label class="form-check-label" for="reportCategory3">\n                不友善内容：人身攻击、挑衅辱骂、恶意骚扰等\n              </label>\n            </div>\n\n            <div class="form-check mb-2">\n              <input\n                class="form-check-input"\n                type="radio"\n                name="reportType"\n                id="reportCategory4"\n                value="低质灌水：文不对题、答非所问、测试内容等"\n              />\n              <label class="form-check-label" for="reportCategory4">\n                低质灌水：文不对题、答非所问、测试内容等\n              </label>\n            </div>\n\n            <div class="form-check mb-2">\n              <input\n                class="form-check-input"\n                type="radio"\n                name="reportType"\n                id="reportCategory5"\n                value="other"\n              />\n              <label class="form-check-label" for="reportCategory5">\n                其他：请补充理由\n              </label>\n            </div>\n          </div>\n\n          <div class="form-group d-none reason">\n            <label for="reportReason">理由描述（选填）</label>\n            <textarea\n              class="form-control"\n              id="reportReason"\n              rows="3"\n              name="text"\n              placeholder="详细的说明有助于我们更快做出处理"\n            >推广广告：广告推广、垃圾信息</textarea>\n            <input type="hidden" name="type" value="').concat(t,'">\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">\n          取消\n        </button>\n        <button type="button" class="btn btn-primary btn-submit">\n          提交\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n    ');e.click(function(e){e.stopPropagation(),e.preventDefault();var a=$(r).modal("show"),o=$("[name=text]",a);a.one("shown.bs.modal",function(){(0,n.bindFormSubmit)($("form",a),{submitBtn:$(".btn-submit",a)}),$("[type=radio][name=reportType]").change(function(){var n=$(this);o.val("other"==n.val()?"":n.val()),$(".reason",a).toggleClass("d-none","other"!=n.val())})}),a.one("hidden.bs.modal",function(){a.modal("dispose"),a.remove()})})}})};exports.default=e;
},{"./utilities":"1ZCL"}],"GIc4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(require("./template")),t=require("./utilities"),e=a(require("./report"));function a(n){return n&&n.__esModule?n:{default:n}}function o(n,t,e,a,o){$.get("/api/comment/list/"+n+"?page="+a,function(n){var a=n.status,s=n.data;a||(s.rows.forEach(function(n){d(n,t,e)}),o(s.page))})}function d(a,o,s){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c||$("#comment-"+a.id,o).remove();var i=(0,n.default)({comment:a},'\n  <li class="list-group-item px-0 bg-light" id="comment-{{ comment.id }}">\n                  <div class="d-flex align-items-center font-size-14 mb-1">\n                    <a class="d-flex align-items-center" target="_blank" href="{{ comment.user.url }}">\n                      <strong class="text-body">{{ comment.user.name }}</strong>\n                    </a>\n                    <span class="ml-1 text-secondary">· {{ comment.createdDate }}</span>\n                  </div>\n\n                  <div class="mb-n2 content">{% if comment.replyUser %}回复 @<a target="_blank" href="{{ comment.replyUser.url }}">{{ comment.replyUser.name }}</a>: {% endif %}{{ comment.parsedText }}</div>\n\n                  <form class="d-none edit-comment-form" action="/api/comment/edit" method="post">\n                  <div class="form-group">\n                  <div class="form-control comment-text" style="height: auto" name="text" contenteditable="true"></div>\n                  </div>\n                  <div\n                    class="my-3 d-flex align-content-center justify-content-end"\n                  >\n                    <button\n                      type="button"\n                      class="btn btn-outline-secondary btn-sm mr-2 edit-comment-cancel-btn"\n                    >\n                      取消\n                    </button>\n                    <button\n                      type="submit"\n                      class="btn btn-primary btn-sm"\n                    >\n                      提交\n                    </button>\n                    <input type="hidden" name="objectId" value="{{ comment.objectId }}">\n                    <input type="hidden" name="id" value="{{ comment.id }}">\n                  </div>\n                  </form>\n\n                  <div\n                    class="handle-bar text-secondary font-size-14 d-flex justify-content-between"\n                  >\n                    <div>\n                      <a class="" href="#" data-toggle-button-api="/api/comment/{{ comment.id }}/vote/up"\n                      data-toggle-style="link"\n                      data-state={{ comment.isVote | json_encode }}\n                      >\n                        <i class="far fa-thumbs-up mr-1"></i\n                        ><span data-{{ comment.id }}-count-size data-count-hidden="true">{{ comment.votes }}</span></a\n                      >\n                      <span> · </span>\n                      <a\n                        class="comment-reply-btn"\n                        data-replay-user="wtser"\n                        href="#comment-{{ comment.objectId }}-form"\n                        >回复</a\n                      >\n                      {% if comment.canEdit %}\n                      <span> · </span>\n                      <a class="comment-edit-btn" href="#comment-{{ comment.id }}">编辑</a>\n                      {% endif %}\n                    </div>\n                    <div class="dropdown ml-3 d-inline">\n                      <a\n                        class=""\n                        href="#"\n                        role="button"\n                        id="dropdownMenuLink"\n                        data-toggle="dropdown"\n                        aria-haspopup="true"\n                        aria-expanded="false"\n                      >\n                        <i class="far fa-ellipsis-h"></i>\n                      </a>\n\n                      <div\n                        class="dropdown-menu dropdown-menu-right"\n                        aria-labelledby="dropdownMenuLink"\n                      >\n                        <a class="dropdown-item" data-report="{{ comment.id }}" data-report-type="comment" href="#">举报</a>\n                        {% if comment.canEdit %}\n                        <a class="dropdown-item" href="#" data-button-action="/api/comment/{{ comment.id }}/delete" data-action-confirm="您确认要删除{{ comment.user.name }}的评论吗？">删除</a>\n                        {% endif %}\n                      </div>\n                    </div>\n                  </div>\n                </li> '),m=$(i),r=$(".reply-user",s),l=$(".edit-comment-form",m),u=$(".content",m),p=$(".comment-text",l),f=$("[data-button-action]",m);return c?m.insertAfter(c):o.append(m),(0,t.toggleButtonApi)($("[data-toggle-button-api]",m).data("count-sel",$("[data-".concat(a.id,"-count-size]"),m))),(0,t.bindFormSubmit)(l,{callback:function(n){d(n,o,s,m),m.remove()}}),(0,e.default)($("[data-report]",m)),f.data("callback",function(){m.remove()}),(0,t.buttonActionApi)(f),$(".comment-reply-btn",m).click(function(){var n=$("a",r);n.attr("href",a.user.url),n.text(a.user.name),r.removeClass("d-none"),$(".add-comment-form",s).removeClass("d-none"),$(".add-comment-form [name=replyUserId]",s).val(a.userId),$(".add-comment-form .comment-text",s).focus()}),$(".comment-edit-btn, .edit-comment-cancel-btn",m).click(function(n){n.preventDefault(),n.stopPropagation(),p.focus().get(0).innerText=a.text,l.toggleClass("d-none"),u.toggleClass("d-none")}),m}function s(n,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s='\n  <div class="card bg-light border-0 mt-2">\n            <div class="card-body py-0">\n              <ul class="list-group list-group-flush ">\n                \n              </ul>\n\n              <div class="font-size-14 d-flex py-2 my-1 loader">\n                <a class="text-secondary add-comment-btn" href="javascript:;"\n                  >添加回复</a\n                >\n                <div class="vertical-divider"></div>\n                <a class="text-secondary next-page-btn" href="javascript:;">展开显示更多</a>\n              </div>\n\n              <form id="comment-'.concat(n,'-form" class="media-body my-3 d-none add-comment-form" action="/api/comment/add" method="post">\n                <p class="reply-user font-size-14 d-none"><i class="fal fa-times" style="cursor:pointer"></i> &nbsp; 回复 @<a target="_blank" href=""></a></p>\n                <div class="form-group">\n                  <div class="form-control comment-text" style="height: auto" name="text" contenteditable="true"></div>\n                </div>\n                  <div\n                    class="mt-y d-flex align-content-center justify-content-end"\n                  >\n                    <button\n                      type="button"\n                      class="btn btn-outline-secondary btn-sm mr-2 add-comment-cancel-btn"\n                    >\n                      取消\n                    </button>\n                    <button\n                      type="submit"\n                      class="btn btn-primary btn-sm"\n                    >\n                      提交\n                    </button>\n                    <input type="hidden" name="objectId" value="').concat(n,'">\n                    <input type="hidden" name="replyUserId" value="0">\n                  </div>\n              </form>\n            </div>\n          </div>\n  '),c=$(s).appendTo(e),i=$(".list-group",c),m=1,r=$(".add-comment-form",c),l=$(".next-page-btn",c),u=$(".comment-text",r),p=$(".loader",c);function f(){$("[name=replyUserId]",r).val("0"),$(".reply-user",r).addClass("d-none"),u.text(""),r.addClass("d-none")}function b(){r.removeClass("d-none"),u.focus()}function v(){o(n,i,e,m,function(n){0==n.total&&(b(),p.addClass("d-none")),m>=n.totalPage?l.after('<span class="text-muted">没有更多评论了</span>').remove():m++})}(0,t.bindFormSubmit)(r,{callback:function(n){d(n,i,e),f(),p.removeClass("d-none")}}),$(".reply-user i",r).click(function(){$("[name=replyUserId]",r).val("0"),$(".reply-user",r).addClass("d-none")}),$(".add-comment-btn, .add-comment-cancel-btn",c).click(function(n){n.preventDefault(),n.stopPropagation(),r.hasClass("d-none")?b():f()}),l.click(function(n){n.preventDefault(),n.stopPropagation(),v()}),a?a.forEach(function(n){d(n,i,e)}):!1===a?v():(b(),p.addClass("d-none"))}var c=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-js-comment]",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];$(n).each(function(){var n=$(this),e=n.data("comment-box"),a=n.data("js-comment"),o=$(e),d=!1;n.click(function(n){n.preventDefault(),n.stopPropagation(),d||(s(a,o),d=!0),o.toggleClass("d-none")}),!1!==t&&(s(a,o,t),d=!0,t&&t.length>0&&o.toggleClass("d-none"))})};exports.default=c;
},{"./template":"1YVD","./utilities":"1ZCL","./report":"0KJL"}],"RIul":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var n=require("../../global/js/utilities"),t=a(require("../../global/js/template")),e=a(require("../../global/js/report")),o=a(require("../../global/js/comment"));function a(n){return n&&n.__esModule?n:{default:n}}function i(){function a(i){var m=(0,t.default)({comment:i},' <div class="media mb-4" id="comment-{{ comment.id }}">\n        <img\n          class="d-block rounded-circle mr-3"\n          width="38"\n          height="38"\n          src="{{ comment.user.avatarUrl }}"\n          alt=""\n        />\n        <div class="media-body">\n          <div class="d-flex align-items-center font-size-14 mb-1">\n            <a class="d-flex align-items-center" href="{{ comment.user.url }}" target="_blank">\n              <strong class="text-body">{{ comment.user.name }}</strong>\n            </a>\n            <span class="ml-1 text-secondary">· {{ comment.createdDate }}</span>\n          </div>\n\n          <div class="mb-n2 top-content">\n            {{ comment.parsedText }}\n          </div>\n\n                <form class="d-none edit-top-comment-form" action="/api/comment/edit" method="post">\n                  <div class="form-group">\n                  <div class="form-control comment-text" style="height: auto" name="text" contenteditable="true"></div>\n                  </div>\n                  <div\n                    class="my-3 d-flex align-content-center justify-content-end"\n                  >\n                    <button\n                      type="button"\n                      class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn"\n                    >\n                      取消\n                    </button>\n                    <button\n                      type="submit"\n                      class="btn btn-primary btn-sm"\n                    >\n                      提交\n                    </button>\n                    <input type="hidden" name="objectId" value="{{ comment.objectId }}">\n                    <input type="hidden" name="id" value="{{ comment.id }}">\n                  </div>\n                </form>\n\n          <div class="handle-bar text-secondary font-size-14 d-flex justify-content-between">\n            <div>\n            <a class="" href="#"\n              id="comment-like-btn-{{ comment.id }}"\n              data-toggle-button-api="/api/comment/{{ comment.id }}/vote/up"\n              data-count-sel="#comment-like-btn-{{ comment.id }} [data-icon-count-size]"\n              data-toggle-style="link"\n              data-state="{{ comment.isVote | json_encode }}"\n            >\n              <i class="far fa-thumbs-up mr-1"></i><span data-icon-count-size data-count-hidden="true">{{ comment.votes }}</span></a\n            >\n            <span> · </span>\n            <a class="" href="#"\n              data-js-comment="{{ comment.id }}"\n            >回复</a>\n            {% if comment.canEdit %}\n            <span> · </span>\n            <a class="edit-top-comment-btn" href="">编辑</a>\n            {% endif %}\n            </div>\n                    <div class="dropdown ml-3 d-inline">\n                      <a\n                        class=""\n                        href="#"\n                        role="button"\n                        id="dropdownMenuLink"\n                        data-toggle="dropdown"\n                        aria-haspopup="true"\n                        aria-expanded="false"\n                      >\n                        <i class="far fa-ellipsis-h"></i>\n                      </a>\n\n                      <div\n                        class="dropdown-menu dropdown-menu-right"\n                        aria-labelledby="dropdownMenuLink"\n                      >\n                        <a class="dropdown-item" data-report="{{ comment.id }}" data-report-type="comment" href="#">举报</a>\n                        {% if comment.canEdit %}\n                        <a class="dropdown-item" href="#" data-button-action="/api/comment/{{ comment.id }}/delete" data-action-confirm="您确认要删除{{ comment.user.name }}的评论吗？">删除</a>\n                        {% endif %}\n                      </div>\n                    </div>\n          </div>\n          <div class="replies d-none"></div>\n        </div>\n      </div>'),d=$(m),c=$("[data-js-comment]",d),s=$(".top-content",d),r=$(".edit-top-comment-form",d),l=$(".comment-text",r);return $("[data-button-action]",d).data("callback",function(){d.remove()}),$(".edit-top-comment-btn, .edit-top-comment-cancel-btn",d).click(function(n){n.preventDefault(),n.stopPropagation(),l.focus().get(0).innerText=i.text,r.toggleClass("d-none"),s.toggleClass("d-none")}),(0,n.bindFormSubmit)(r,{callback:function(t){var e=a(t);d.after(e).remove(),(0,n.toggleButtonApi)($("[data-toggle-button-api]",e))}}),(0,e.default)($("[data-report]",d)),c.data("comment-box",$(".replies",d)),(0,o.default)(c,i.replies),d.get(0)}(0,n.streamLoadMoreOnScroll)("#blogArticleCommentStream[data-js-stream-list]",function(n){var t=[];return n.forEach(function(n){$("#comment-"+n.id).remove(),t.push(a(n))}),$(t)}),(0,n.bindFormSubmit)(".article-comment-form",{callback:function(t){var e=$(a(t));$("#blogArticleCommentStream").prepend(e),(0,n.toggleButtonApi)($("[data-toggle-button-api]",e)),$(".article-comment-form .comment-text").text("")}})}
},{"../../global/js/utilities":"1ZCL","../../global/js/template":"1YVD","../../global/js/report":"0KJL","../../global/js/comment":"GIc4"}],"z059":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){var e=$("[data-create-blog-name-btn]"),t=$("[data-create-blog-name-input]"),n=$("[data-create-blog-name-form]"),a=$("[data-create-blog-name-submit]"),c=$("[data-blog-name-list]");e.on("click",function(){$(this).attr("hidden",""),n.removeAttr("hidden")}),a.on("click",function(){var a=t.val();if(a.length>0){var o='\n   <div class="form-check mt-2">\n               <input\n                 class="form-check-input"\n                 type="radio"\n                 name="blog"\n                 id="'.concat(a,'"\n                 value="option2"\n                 checked\n               />\n               <label class="form-check-label" for="').concat(a,'">\n                 ').concat(a,"\n               </label>\n             </div>\n   ");c.find("input[radio]").removeAttr("checked"),c.append(o),e.removeAttr("hidden"),n.attr("hidden","")}})};exports.default=e;
},{}],"JHYh":[function(require,module,exports) {
"use strict";function t(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e>6)return null;var n="h".concat(e);return 0!=$(a).find(n).length?e:t(a,e+1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=function(){var a=$("article"),e=t("article",1),n="h".concat(e),c="h".concat(e+1),o=a.find("".concat(n,", ").concat(c)),r=$("[data-article-nav-list]"),i=$("[data-article-nav]");if(0!==i.length)if(0!==o.length){var l=0,s=0;o.each(function(t){var a=$(this);if(a[0].tagName.toLowerCase()===n)s=0,l++,a.attr("id","item-".concat(l)),r.append('<a class="nav-link pl-3 text-secondary py-1" href="'.concat("#item-".concat(l),'">',a.text(),"</a>"));else if(a[0].tagName.toLowerCase()===c){s++,a.attr("id","item-".concat(l,"-").concat(s));var e=$('.nav-link[href="'.concat("#item-".concat(l),'"]')),o=e.next("nav");0!=o.length?o.append('<a class="nav-link text-secondary my-1 py-0" href="#'.concat("item-".concat(l,"-").concat(s),'">',a.text(),"</a>")):e.after('<nav class="pl-3">\n        <a class="nav-link text-secondary my-1  py-0" href="#'.concat("item-".concat(l,"-").concat(s),'">',a.text(),"</a>\n      </nav>"))}}),i.find("a").each(function(t){$(this).attr("data-offsetTop",$(this).offset().top)}),$("body").scrollspy({target:"[data-article-nav]"}),$(window).on("activate.bs.scrollspy",function(t,a){var e=$('[href="'.concat(a.relatedTarget,'"]'));if(e.attr("data-offsetTop")>2*this.window.innerHeight/3){var n=r.find("a").index(e);r[0].style.marginTop=-10*n+"px",r.scrollTop(16*n)}else r[0].style.marginTop="",r.scrollTop(0)});var f=i.offset().top;i.css("width",i.width()),$(window).on("scroll",function(){var t=f-$(window).scrollTop();t<0?i.attr("data-fix",""):t>0&&i.removeAttr("data-fix")})}else i.remove()};exports.default=a;
},{}],"Z4iJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){var t=$(".fmt"),e=!1;if(t.each(function(){var t;(-1!==(t=$(this).text()).indexOf("$$")||t.match(/\$(.+?)\$/))&&(e=!0)}),e){$('<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"><\/script>').appendTo(document.body);var a=setInterval(function(){"undefined"!=typeof MathJax&&(MathJax.Hub.Config({showProcessingMessages:!1,jax:["input/TeX","output/HTML-CSS"],tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,ignoreClass:"side"},svg:{fontCache:"global"},"HTML-CSS":{showMathMenu:!1,linebreaks:{automatic:!0,width:"80%"}},skipStartupTypeset:!1}),t.each(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,this])}),clearInterval(a))},100)}};exports.default=t;
},{}],"cHZF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./math"));function t(e){return e&&e.__esModule?e:{default:e}}var a=document.styleSheets.length,n=[],i=!1,r=!1;function d(){$('<link rel="stylesheet" type="text/css" href="'.concat(GLOBAL.staticUrl+"editor/index.css",'">')).appendTo(document.head),$('<script async src="'.concat(GLOBAL.staticUrl+"editor/index.js",'"><\/script>')).appendTo(document.body),r=!0}function o(e,t){var a=new FormData;return a.append("image",e),$.ajax({method:"POST",url:"/api/storage/image",data:a,contentType:!1,processData:!1,async:!0,success:function(a){var n=a.status,i=a.data;n||t(i,e.name)}}),!1}var l=setInterval(function(){document.styleSheets.length>a&&GLOBAL.Editor&&(i=!0,c(),clearInterval(l))},50);function s(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$(t),i={el:$("<div></div>").insertAfter(n).get(0),initialEditType:"markdown",previewStyle:"vertical",height:n.height()+"px",language:"zh",toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","indent","outdent","divider","table","image","link","divider","code","codeblock"],previewDelayTime:20,initialValue:n.val()};for(var r in a)i[r]=a[r];n.addClass("d-none");var d=new GLOBAL.Editor(i);d.on("previewRenderAfter",function(t,a){$(".te-preview").addClass("fmt"),(0,e.default)()}),d.addHook("addImageBlobHook",o),d.on("change",function(e,t){n.val(d.getMarkdown()).trigger("input")}),n.removeAttr("disabled"),i.focus&&d.focus()}function c(){i&&(n.forEach(function(e){s.apply(null,e)}),n=[])}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=$(e);a.length>0&&(r||d(),a.attr("disabled","disabled"),n.push([e,t]),c())};exports.default=u;
},{"./math":"Z4iJ"}],"78z0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=$(a),e=$("<div></div>").insertAfter(n),i={},o={},s=$('<div class="dropdown d-inline-block"></div>').appendTo(e),l=$('<button class="btn btn-light btn-sm" data-toggle="dropdown"><i class="far fa-plus mr-1"></i>添加标签</button>').appendTo(s),c=$('<div class="dropdown-menu px-4 py-3" style="min-width: 480px" aria-labelledby="add-tag-btn"></div>').appendTo(s),d=$('<p class="text-secondary font-size-14">还可添加 <span class="tags-left">'+t+'</span> 个标签\x3c!--<span class="float-right">找不到标签？<a href="https://jinshuju.net/f/nxJ9Jn" target="_blank" onClick="window.open(\'https://jinshuju.net/f/nxJ9Jn\',\'\',\'height=540,width=480\')">创建</a></span>--\x3e</p>').appendTo(c);function r(){var a=Object.keys(o);n.val(a.join(",")).trigger("input"),l.toggleClass("d-none",a.length>=t),a.length>=t&&s.dropdown("hide"),$(".tags-left",d).text(t-a.length)}function p(a){if(o[a.id])return n=a.id,(i=$("[data-tag-id=".concat(n,"]"),e)).hasClass("warning")&&i.removeClass("warning"),void i.addClass("warning");var n,i;if(!(Object.keys(o).length>=t)){var s=$('<a class="btn btn-light btn-sm tag-input mr-2" data-tag-id="'.concat(a.id,'" href="').concat(a.url,'" target="_blank">').concat(a.name,"</a>")),l=$('<i class="far fa-times ml-2"></i>').appendTo(s);$(".tag-input",e).length>0?s.insertAfter($(".tag-input",e).last()):s.prependTo(e),l.click(function(t){t.preventDefault(),t.stopPropagation(),s.remove(),delete o[a.id],r()}),s.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){s.removeClass("warning")}),o[a.id]=!0,r()}}c.click(function(a){var t=$(a.target);t.hasClass("nav-link")&&t.tab("show"),a.preventDefault(),a.stopPropagation()}),$.get("/api/tag/default",function(a){var t=a.status,e=a.data;if(!t){var o=$('<ul class="nav nav-tabs mb-3" role="tablist"></ul>').appendTo(c),s=$('<div class="tab-content"></div>').appendTo(c),l=0,d=(new Date).getMilliseconds(),r=function(a){l++;var t="tag-tab-".concat(d,"-").concat(l),n="tag-panel-".concat(d,"-").concat(l),c=$('<li class="nav-item font-size-14"><a class="nav-link" id="'.concat(t,'" data-toggle="tab" href="#').concat(n,'" role="tab" aria-controls="').concat(n,'" aria-selected="false">').concat(a,"</a></li>")),r=$('<div class="tab-pane m-n1" id="'.concat(n,'" role="tabpanel" aria-labelledby="').concat(t,'"></div>'));o.append(c),s.append(r),e[a].forEach(function(a){i[a.id]=a,$('<a class="badge-tag m-1" href="'.concat(a.url,'">').concat(a.name,"</a>")).click(function(t){t.preventDefault(),t.stopPropagation(),p(a)}).appendTo(r)})};for(var g in e)r(g);(n.val()?n.val().split(","):[]).forEach(function(a){p(i[a])}),$("#tag-tab-"+d+"-1").tab("show")}})};exports.default=a;
},{}],"7vFl":[function(require,module,exports) {
var define;
var global = arguments[3];
var process = require("process");
var t,n=arguments[3],e=require("process");!function(n){"use strict";if("function"==typeof bootstrap)bootstrap("promise",n);else if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof t&&t.amd)t(n);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=n}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var e="undefined"!=typeof window?window:self,r=e.Q;e.Q=n(),e.Q.noConflict=function(){return e.Q=r,this}}}(function(){"use strict";var t=!1;try{throw new Error}catch(K){t=!!K.stack}var n,r=b(),o=function(){},i=function(){var t={task:void 0,next:null},n=t,r=!1,o=void 0,u=!1,c=[];function f(){for(var n,e;t.next;)n=(t=t.next).task,t.task=void 0,(e=t.domain)&&(t.domain=void 0,e.enter()),p(n,e);for(;c.length;)p(n=c.pop());r=!1}function p(t,n){try{t()}catch(K){if(u)throw n&&n.exit(),setTimeout(f,0),n&&n.enter(),K;setTimeout(function(){throw K},0)}n&&n.exit()}if(i=function(t){n=n.next={task:t,domain:u&&e.domain,next:null},r||(r=!0,o())},"object"==typeof e&&"[object process]"===e.toString()&&e.nextTick)u=!0,o=function(){e.nextTick(f)};else if("function"==typeof setImmediate)o="undefined"!=typeof window?setImmediate.bind(window,f):function(){setImmediate(f)};else if("undefined"!=typeof MessageChannel){var s=new MessageChannel;s.port1.onmessage=function(){o=a,s.port1.onmessage=f,f()};var a=function(){s.port2.postMessage(0)};o=function(){setTimeout(f,0),a()}}else o=function(){setTimeout(f,0)};return i.runAfter=function(t){c.push(t),r||(r=!0,o())},i}(),u=Function.call;function c(t){return function(){return u.apply(t,arguments)}}var f,p=c(Array.prototype.slice),s=c(Array.prototype.reduce||function(t,n){var e=0,r=this.length;if(1===arguments.length)for(;;){if(e in this){n=this[e++];break}if(++e>=r)throw new TypeError}for(;e<r;e++)e in this&&(n=t(n,this[e],e));return n}),a=c(Array.prototype.indexOf||function(t){for(var n=0;n<this.length;n++)if(this[n]===t)return n;return-1}),l=c(Array.prototype.map||function(t,n){var e=this,r=[];return s(e,function(o,i,u){r.push(t.call(n,i,u,e))},void 0),r}),d=Object.create||function(t){function n(){}return n.prototype=t,new n},h=Object.defineProperty||function(t,n,e){return t[n]=e.value,t},y=c(Object.prototype.hasOwnProperty),v=Object.keys||function(t){var n=[];for(var e in t)y(t,e)&&n.push(e);return n},m=c(Object.prototype.toString);f="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var k="From previous event:";function w(n,e){if(t&&e.stack&&"object"==typeof n&&null!==n&&n.stack){for(var r=[],o=e;o;o=o.source)o.stack&&(!n.__minimumStackCounter__||n.__minimumStackCounter__>o.stackCounter)&&(h(n,"__minimumStackCounter__",{value:o.stackCounter,configurable:!0}),r.unshift(o.stack));r.unshift(n.stack);var i=function(t){for(var n=t.split("\n"),e=[],r=0;r<n.length;++r){var o=n[r];!g(o)&&(-1===(i=o).indexOf("(module.js:")&&-1===i.indexOf("(node.js:"))&&o&&e.push(o)}var i;return e.join("\n")}(r.join("\n"+k+"\n"));h(n,"stack",{value:i,configurable:!0})}}function j(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n)return[n[1],Number(n[2])];var e=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function g(t){var e=j(t);if(!e)return!1;var o=e[0],i=e[1];return o===n&&i>=r&&i<=J}function b(){if(t)try{throw new Error}catch(K){var e=K.stack.split("\n"),r=j(e[0].indexOf("@")>0?e[1]:e[2]);if(!r)return;return n=r[0],r[1]}}function x(t){return t instanceof O?t:N(t)?(n=t,e=R(),x.nextTick(function(){try{n.then(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}}),e.promise):V(t);var n,e}x.resolve=x,x.nextTick=i,x.longStackSupport=!1;var T=1;function R(){var n,e=[],r=[],o=d(R.prototype),i=d(O.prototype);if(i.promiseDispatch=function(t,o,i){var u=p(arguments);e?(e.push(u),"when"===o&&i[1]&&r.push(i[1])):x.nextTick(function(){n.promiseDispatch.apply(n,u)})},i.valueOf=function(){if(e)return i;var t=Q(n);return _(t)&&(n=t),t},i.inspect=function(){return n?n.inspect():{state:"pending"}},x.longStackSupport&&t)try{throw new Error}catch(K){i.stack=K.stack.substring(K.stack.indexOf("\n")+1),i.stackCounter=T++}function u(o){n=o,x.longStackSupport&&t&&(i.source=o),s(e,function(t,n){x.nextTick(function(){o.promiseDispatch.apply(o,n)})},void 0),e=void 0,r=void 0}return o.promise=i,o.resolve=function(t){n||u(x(t))},o.fulfill=function(t){n||u(V(t))},o.reject=function(t){n||u(B(t))},o.notify=function(t){n||s(r,function(n,e){x.nextTick(function(){e(t)})},void 0)},o}function S(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var n=R();try{t(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}return n.promise}function E(t){return S(function(n,e){for(var r=0,o=t.length;r<o;r++)x(t[r]).then(n,e)})}function O(t,n,e){void 0===n&&(n=function(t){return B(new Error("Promise does not support operation: "+t))}),void 0===e&&(e=function(){return{state:"unknown"}});var r=d(O.prototype);if(r.promiseDispatch=function(e,o,i){var u;try{u=t[o]?t[o].apply(r,i):n.call(r,o,i)}catch(c){u=B(c)}e&&e(u)},r.inspect=e,e){var o=e();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var t=e();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function C(t,n,e,r){return x(t).then(n,e,r)}function Q(t){if(_(t)){var n=t.inspect();if("fulfilled"===n.state)return n.value}return t}function _(t){return t instanceof O}function N(t){return(n=t)===Object(n)&&"function"==typeof t.then;var n}"object"==typeof e&&e&&e.env,x.defer=R,R.prototype.makeNodeResolver=function(){var t=this;return function(n,e){n?t.reject(n):arguments.length>2?t.resolve(p(arguments,1)):t.resolve(e)}},x.Promise=S,x.promise=S,S.race=E,S.all=L,S.reject=B,S.resolve=x,x.passByCopy=function(t){return t},O.prototype.passByCopy=function(){return this},x.join=function(t,n){return x(t).join(n)},O.prototype.join=function(t){return x([this,t]).spread(function(t,n){if(t===n)return t;throw new Error("Q can't join: not the same: "+t+" "+n)})},x.race=E,O.prototype.race=function(){return this.then(x.race)},x.makePromise=O,O.prototype.toString=function(){return"[object Promise]"},O.prototype.then=function(t,n,e){var r=this,o=R(),i=!1;return x.nextTick(function(){r.promiseDispatch(function(n){i||(i=!0,o.resolve(function(n){try{return"function"==typeof t?t(n):n}catch(e){return B(e)}}(n)))},"when",[function(t){i||(i=!0,o.resolve(function(t){if("function"==typeof n){w(t,r);try{return n(t)}catch(e){return B(e)}}return B(t)}(t)))}])}),r.promiseDispatch(void 0,"when",[void 0,function(t){var n,r=!1;try{n=function(t){return"function"==typeof e?e(t):t}(t)}catch(K){if(r=!0,!x.onerror)throw K;x.onerror(K)}r||o.notify(n)}]),o.promise},x.tap=function(t,n){return x(t).tap(n)},O.prototype.tap=function(t){return t=x(t),this.then(function(n){return t.fcall(n).thenResolve(n)})},x.when=C,O.prototype.thenResolve=function(t){return this.then(function(){return t})},x.thenResolve=function(t,n){return x(t).thenResolve(n)},O.prototype.thenReject=function(t){return this.then(function(){throw t})},x.thenReject=function(t,n){return x(t).thenReject(n)},x.nearer=Q,x.isPromise=_,x.isPromiseAlike=N,x.isPending=function(t){return _(t)&&"pending"===t.inspect().state},O.prototype.isPending=function(){return"pending"===this.inspect().state},x.isFulfilled=function(t){return!_(t)||"fulfilled"===t.inspect().state},O.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},x.isRejected=function(t){return _(t)&&"rejected"===t.inspect().state},O.prototype.isRejected=function(){return"rejected"===this.inspect().state};var P,D,A,I=[],F=[],M=[],U=!0;function $(){I.length=0,F.length=0,U||(U=!0)}function B(t){var n=O({when:function(n){return n&&function(t){if(U){var n=a(F,t);-1!==n&&("object"==typeof e&&"function"==typeof e.emit&&x.nextTick.runAfter(function(){var r=a(M,t);-1!==r&&(e.emit("rejectionHandled",I[n],t),M.splice(r,1))}),F.splice(n,1),I.splice(n,1))}}(this),n?n(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return function(t,n){U&&("object"==typeof e&&"function"==typeof e.emit&&x.nextTick.runAfter(function(){-1!==a(F,t)&&(e.emit("unhandledRejection",n,t),M.push(t))}),F.push(t),n&&void 0!==n.stack?I.push(n.stack):I.push("(no stack) "+n))}(n,t),n}function V(t){return O({when:function(){return t},get:function(n){return t[n]},set:function(n,e){t[n]=e},delete:function(n){delete t[n]},post:function(n,e){return null==n?t.apply(void 0,e):t[n].apply(t,e)},apply:function(n,e){return t.apply(n,e)},keys:function(){return v(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function q(t,n,e){return x(t).spread(n,e)}function H(t,n,e){return x(t).dispatch(n,e)}function L(t){return C(t,function(t){var n=0,e=R();return s(t,function(r,o,i){var u;_(o)&&"fulfilled"===(u=o.inspect()).state?t[i]=u.value:(++n,C(o,function(r){t[i]=r,0==--n&&e.resolve(t)},e.reject,function(t){e.notify({index:i,value:t})}))},void 0),0===n&&e.resolve(t),e.promise})}function z(t){if(0===t.length)return x.resolve();var n=x.defer(),e=0;return s(t,function(r,o,i){var u=t[i];e++,C(u,function(t){n.resolve(t)},function(t){if(0==--e){var r=t||new Error(""+t);r.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+r.message,n.reject(r)}},function(t){n.notify({index:i,value:t})})},void 0),n.promise}function G(t){return C(t,function(t){return t=l(t,x),C(L(l(t,function(t){return C(t,o,o)})),function(){return t})})}x.resetUnhandledRejections=$,x.getUnhandledReasons=function(){return I.slice()},x.stopUnhandledRejectionTracking=function(){$(),U=!1},$(),x.reject=B,x.fulfill=V,x.master=function(t){return O({isDef:function(){}},function(n,e){return H(t,n,e)},function(){return x(t).inspect()})},x.spread=q,O.prototype.spread=function(t,n){return this.all().then(function(n){return t.apply(void 0,n)},n)},x.async=function(t){return function(){function n(t,n){var i;if("undefined"==typeof StopIteration){try{i=e[t](n)}catch(u){return B(u)}return i.done?x(i.value):C(i.value,r,o)}try{i=e[t](n)}catch(u){return function(t){return"[object StopIteration]"===m(t)||t instanceof f}(u)?x(u.value):B(u)}return C(i,r,o)}var e=t.apply(this,arguments),r=n.bind(n,"next"),o=n.bind(n,"throw");return r()}},x.spawn=function(t){x.done(x.async(t)())},x.return=function(t){throw new f(t)},x.promised=function(t){return function(){return q([this,L(arguments)],function(n,e){return t.apply(n,e)})}},x.dispatch=H,O.prototype.dispatch=function(t,n){var e=this,r=R();return x.nextTick(function(){e.promiseDispatch(r.resolve,t,n)}),r.promise},x.get=function(t,n){return x(t).dispatch("get",[n])},O.prototype.get=function(t){return this.dispatch("get",[t])},x.set=function(t,n,e){return x(t).dispatch("set",[n,e])},O.prototype.set=function(t,n){return this.dispatch("set",[t,n])},x.del=x.delete=function(t,n){return x(t).dispatch("delete",[n])},O.prototype.del=O.prototype.delete=function(t){return this.dispatch("delete",[t])},x.mapply=x.post=function(t,n,e){return x(t).dispatch("post",[n,e])},O.prototype.mapply=O.prototype.post=function(t,n){return this.dispatch("post",[t,n])},x.send=x.mcall=x.invoke=function(t,n){return x(t).dispatch("post",[n,p(arguments,2)])},O.prototype.send=O.prototype.mcall=O.prototype.invoke=function(t){return this.dispatch("post",[t,p(arguments,1)])},x.fapply=function(t,n){return x(t).dispatch("apply",[void 0,n])},O.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},x.try=x.fcall=function(t){return x(t).dispatch("apply",[void 0,p(arguments,1)])},O.prototype.fcall=function(){return this.dispatch("apply",[void 0,p(arguments)])},x.fbind=function(t){var n=x(t),e=p(arguments,1);return function(){return n.dispatch("apply",[this,e.concat(p(arguments))])}},O.prototype.fbind=function(){var t=this,n=p(arguments);return function(){return t.dispatch("apply",[this,n.concat(p(arguments))])}},x.keys=function(t){return x(t).dispatch("keys",[])},O.prototype.keys=function(){return this.dispatch("keys",[])},x.all=L,O.prototype.all=function(){return L(this)},x.any=z,O.prototype.any=function(){return z(this)},x.allResolved=(P=G,D="allResolved",A="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(D+" is deprecated, use "+A+" instead.",new Error("").stack),P.apply(P,arguments)}),O.prototype.allResolved=function(){return G(this)},x.allSettled=function(t){return x(t).allSettled()},O.prototype.allSettled=function(){return this.then(function(t){return L(l(t,function(t){function n(){return t.inspect()}return(t=x(t)).then(n,n)}))})},x.fail=x.catch=function(t,n){return x(t).then(void 0,n)},O.prototype.fail=O.prototype.catch=function(t){return this.then(void 0,t)},x.progress=function(t,n){return x(t).then(void 0,void 0,n)},O.prototype.progress=function(t){return this.then(void 0,void 0,t)},x.fin=x.finally=function(t,n){return x(t).finally(n)},O.prototype.fin=O.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=x(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n})})},x.done=function(t,n,e,r){return x(t).done(n,e,r)},O.prototype.done=function(t,n,r){var o=function(t){x.nextTick(function(){if(w(t,i),!x.onerror)throw t;x.onerror(t)})},i=t||n||r?this.then(t,n,r):this;"object"==typeof e&&e&&e.domain&&(o=e.domain.bind(o)),i.then(void 0,o)},x.timeout=function(t,n,e){return x(t).timeout(n,e)},O.prototype.timeout=function(t,n){var e=R(),r=setTimeout(function(){n&&"string"!=typeof n||((n=new Error(n||"Timed out after "+t+" ms")).code="ETIMEDOUT"),e.reject(n)},t);return this.then(function(t){clearTimeout(r),e.resolve(t)},function(t){clearTimeout(r),e.reject(t)},e.notify),e.promise},x.delay=function(t,n){return void 0===n&&(n=t,t=void 0),x(t).delay(n)},O.prototype.delay=function(t){return this.then(function(n){var e=R();return setTimeout(function(){e.resolve(n)},t),e.promise})},x.nfapply=function(t,n){return x(t).nfapply(n)},O.prototype.nfapply=function(t){var n=R(),e=p(t);return e.push(n.makeNodeResolver()),this.fapply(e).fail(n.reject),n.promise},x.nfcall=function(t){var n=p(arguments,1);return x(t).nfapply(n)},O.prototype.nfcall=function(){var t=p(arguments),n=R();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},x.nfbind=x.denodeify=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var n=p(arguments,1);return function(){var e=n.concat(p(arguments)),r=R();return e.push(r.makeNodeResolver()),x(t).fapply(e).fail(r.reject),r.promise}},O.prototype.nfbind=O.prototype.denodeify=function(){var t=p(arguments);return t.unshift(this),x.denodeify.apply(void 0,t)},x.nbind=function(t,n){var e=p(arguments,2);return function(){var r=e.concat(p(arguments)),o=R();return r.push(o.makeNodeResolver()),x(function(){return t.apply(n,arguments)}).fapply(r).fail(o.reject),o.promise}},O.prototype.nbind=function(){var t=p(arguments,0);return t.unshift(this),x.nbind.apply(void 0,t)},x.nmapply=x.npost=function(t,n,e){return x(t).npost(n,e)},O.prototype.nmapply=O.prototype.npost=function(t,n){var e=p(n||[]),r=R();return e.push(r.makeNodeResolver()),this.dispatch("post",[t,e]).fail(r.reject),r.promise},x.nsend=x.nmcall=x.ninvoke=function(t,n){var e=p(arguments,2),r=R();return e.push(r.makeNodeResolver()),x(t).dispatch("post",[n,e]).fail(r.reject),r.promise},O.prototype.nsend=O.prototype.nmcall=O.prototype.ninvoke=function(t){var n=p(arguments,1),e=R();return n.push(e.makeNodeResolver()),this.dispatch("post",[t,n]).fail(e.reject),e.promise},x.nodeify=function(t,n){return x(t).nodeify(n)},O.prototype.nodeify=function(t){if(!t)return this;this.then(function(n){x.nextTick(function(){t(null,n)})},function(n){x.nextTick(function(){t(n)})})},x.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var J=b();return x});
},{"process":"QXOD"}],"13nb":[function(require,module,exports) {
var define;
var t;!function(r){if("object"==typeof exports)module.exports=r();else if("function"==typeof t&&t.amd)t(r);else{var e;try{e=window}catch(n){e=self}e.SparkMD5=r()}}(function(t){"use strict";var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function e(t,r){var e=t[0],n=t[1],f=t[2],i=t[3];n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&f|~n&i)+r[0]-680876936|0)<<7|e>>>25)+n|0)&n|~e&f)+r[1]-389564586|0)<<12|i>>>20)+e|0)&e|~i&n)+r[2]+606105819|0)<<17|f>>>15)+i|0)&i|~f&e)+r[3]-1044525330|0)<<22|n>>>10)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&f|~n&i)+r[4]-176418897|0)<<7|e>>>25)+n|0)&n|~e&f)+r[5]+1200080426|0)<<12|i>>>20)+e|0)&e|~i&n)+r[6]-1473231341|0)<<17|f>>>15)+i|0)&i|~f&e)+r[7]-45705983|0)<<22|n>>>10)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&f|~n&i)+r[8]+1770035416|0)<<7|e>>>25)+n|0)&n|~e&f)+r[9]-1958414417|0)<<12|i>>>20)+e|0)&e|~i&n)+r[10]-42063|0)<<17|f>>>15)+i|0)&i|~f&e)+r[11]-1990404162|0)<<22|n>>>10)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&f|~n&i)+r[12]+1804603682|0)<<7|e>>>25)+n|0)&n|~e&f)+r[13]-40341101|0)<<12|i>>>20)+e|0)&e|~i&n)+r[14]-1502002290|0)<<17|f>>>15)+i|0)&i|~f&e)+r[15]+1236535329|0)<<22|n>>>10)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&i|f&~i)+r[1]-165796510|0)<<5|e>>>27)+n|0)&f|n&~f)+r[6]-1069501632|0)<<9|i>>>23)+e|0)&n|e&~n)+r[11]+643717713|0)<<14|f>>>18)+i|0)&e|i&~e)+r[0]-373897302|0)<<20|n>>>12)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&i|f&~i)+r[5]-701558691|0)<<5|e>>>27)+n|0)&f|n&~f)+r[10]+38016083|0)<<9|i>>>23)+e|0)&n|e&~n)+r[15]-660478335|0)<<14|f>>>18)+i|0)&e|i&~e)+r[4]-405537848|0)<<20|n>>>12)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&i|f&~i)+r[9]+568446438|0)<<5|e>>>27)+n|0)&f|n&~f)+r[14]-1019803690|0)<<9|i>>>23)+e|0)&n|e&~n)+r[3]-187363961|0)<<14|f>>>18)+i|0)&e|i&~e)+r[8]+1163531501|0)<<20|n>>>12)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n&i|f&~i)+r[13]-1444681467|0)<<5|e>>>27)+n|0)&f|n&~f)+r[2]-51403784|0)<<9|i>>>23)+e|0)&n|e&~n)+r[7]+1735328473|0)<<14|f>>>18)+i|0)&e|i&~e)+r[12]-1926607734|0)<<20|n>>>12)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n^f^i)+r[5]-378558|0)<<4|e>>>28)+n|0)^n^f)+r[8]-2022574463|0)<<11|i>>>21)+e|0)^e^n)+r[11]+1839030562|0)<<16|f>>>16)+i|0)^i^e)+r[14]-35309556|0)<<23|n>>>9)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n^f^i)+r[1]-1530992060|0)<<4|e>>>28)+n|0)^n^f)+r[4]+1272893353|0)<<11|i>>>21)+e|0)^e^n)+r[7]-155497632|0)<<16|f>>>16)+i|0)^i^e)+r[10]-1094730640|0)<<23|n>>>9)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n^f^i)+r[13]+681279174|0)<<4|e>>>28)+n|0)^n^f)+r[0]-358537222|0)<<11|i>>>21)+e|0)^e^n)+r[3]-722521979|0)<<16|f>>>16)+i|0)^i^e)+r[6]+76029189|0)<<23|n>>>9)+f|0,n=((n+=((f=((f+=((i=((i+=((e=((e+=(n^f^i)+r[9]-640364487|0)<<4|e>>>28)+n|0)^n^f)+r[12]-421815835|0)<<11|i>>>21)+e|0)^e^n)+r[15]+530742520|0)<<16|f>>>16)+i|0)^i^e)+r[2]-995338651|0)<<23|n>>>9)+f|0,n=((n+=((i=((i+=(n^((e=((e+=(f^(n|~i))+r[0]-198630844|0)<<6|e>>>26)+n|0)|~f))+r[7]+1126891415|0)<<10|i>>>22)+e|0)^((f=((f+=(e^(i|~n))+r[14]-1416354905|0)<<15|f>>>17)+i|0)|~e))+r[5]-57434055|0)<<21|n>>>11)+f|0,n=((n+=((i=((i+=(n^((e=((e+=(f^(n|~i))+r[12]+1700485571|0)<<6|e>>>26)+n|0)|~f))+r[3]-1894986606|0)<<10|i>>>22)+e|0)^((f=((f+=(e^(i|~n))+r[10]-1051523|0)<<15|f>>>17)+i|0)|~e))+r[1]-2054922799|0)<<21|n>>>11)+f|0,n=((n+=((i=((i+=(n^((e=((e+=(f^(n|~i))+r[8]+1873313359|0)<<6|e>>>26)+n|0)|~f))+r[15]-30611744|0)<<10|i>>>22)+e|0)^((f=((f+=(e^(i|~n))+r[6]-1560198380|0)<<15|f>>>17)+i|0)|~e))+r[13]+1309151649|0)<<21|n>>>11)+f|0,n=((n+=((i=((i+=(n^((e=((e+=(f^(n|~i))+r[4]-145523070|0)<<6|e>>>26)+n|0)|~f))+r[11]-1120210379|0)<<10|i>>>22)+e|0)^((f=((f+=(e^(i|~n))+r[2]+718787259|0)<<15|f>>>17)+i|0)|~e))+r[9]-343485551|0)<<21|n>>>11)+f|0,t[0]=e+t[0]|0,t[1]=n+t[1]|0,t[2]=f+t[2]|0,t[3]=i+t[3]|0}function n(t){var r,e=[];for(r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e}function f(t){var r,e=[];for(r=0;r<64;r+=4)e[r>>2]=t[r]+(t[r+1]<<8)+(t[r+2]<<16)+(t[r+3]<<24);return e}function i(t){var r,f,i,h,o,s,a=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=a;r+=64)e(u,n(t.substring(r-64,r)));for(f=(t=t.substring(r-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<f;r+=1)i[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(e(u,i),r=0;r<16;r+=1)i[r]=0;return h=(h=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(h[2],16),s=parseInt(h[1],16)||0,i[14]=o,i[15]=s,e(u,i),u}function h(t){var e,n="";for(e=0;e<4;e+=1)n+=r[t>>8*e+4&15]+r[t>>8*e&15];return n}function o(t){var r;for(r=0;r<t.length;r+=1)t[r]=h(t[r]);return t.join("")}function s(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function a(t){var r,e=[],n=t.length;for(r=0;r<n-1;r+=2)e.push(parseInt(t.substr(r,2),16));return String.fromCharCode.apply(String,e)}function u(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==o(i("hello"))&&function(t,r){var e=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(e>>16)<<16|65535&e},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function r(t,r){return(t=0|t||0)<0?Math.max(t+r,0):Math.min(t,r)}ArrayBuffer.prototype.slice=function(e,n){var f,i,h,o,s=this.byteLength,a=r(e,s),u=s;return n!==t&&(u=r(n,s)),a>u?new ArrayBuffer(0):(f=u-a,i=new ArrayBuffer(f),h=new Uint8Array(i),o=new Uint8Array(this,a,f),h.set(o),i)}}(),u.prototype.append=function(t){return this.appendBinary(s(t)),this},u.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var r,f=this._buff.length;for(r=64;r<=f;r+=64)e(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},u.prototype.end=function(t){var r,e,n=this._buff,f=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<f;r+=1)i[r>>2]|=n.charCodeAt(r)<<(r%4<<3);return this._finish(i,f),e=o(this._hash),t&&(e=a(e)),this.reset(),e},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},u.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(t,r){var n,f,i,h=r;if(t[h>>2]|=128<<(h%4<<3),h>55)for(e(this._hash,t),h=0;h<16;h+=1)t[h]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),f=parseInt(n[2],16),i=parseInt(n[1],16)||0,t[14]=f,t[15]=i,e(this._hash,t)},u.hash=function(t,r){return u.hashBinary(s(t),r)},u.hashBinary=function(t,r){var e=o(i(t));return r?a(e):e},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(t){var r,n,i,h,o,s=(n=this._buff.buffer,i=t,h=!0,(o=new Uint8Array(n.byteLength+i.byteLength)).set(new Uint8Array(n)),o.set(new Uint8Array(i),n.byteLength),h?o:o.buffer),a=s.length;for(this._length+=t.byteLength,r=64;r<=a;r+=64)e(this._hash,f(s.subarray(r-64,r)));return this._buff=r-64<a?new Uint8Array(s.buffer.slice(r-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(t){var r,e,n=this._buff,f=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<f;r+=1)i[r>>2]|=n[r]<<(r%4<<3);return this._finish(i,f),e=o(this._hash),t&&(e=a(e)),this.reset(),e},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var t,r=u.prototype.getState.call(this);return r.buff=(t=r.buff,String.fromCharCode.apply(null,new Uint8Array(t))),r},u.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,r){var e,n=t.length,f=new ArrayBuffer(n),i=new Uint8Array(f);for(e=0;e<n;e+=1)i[e]=t.charCodeAt(e);return r?i:f}(t.buff,!0),u.prototype.setState.call(this,t)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(t,r){var n=o(function(t){var r,n,i,h,o,s,a=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=a;r+=64)e(u,f(t.subarray(r-64,r)));for(n=(t=r-64<a?t.subarray(r-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<n;r+=1)i[r>>2]|=t[r]<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(e(u,i),r=0;r<16;r+=1)i[r]=0;return h=(h=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(h[2],16),s=parseInt(h[1],16)||0,i[14]=o,i[15]=s,e(u,i),u}(new Uint8Array(t)));return r?a(n):n},u});
},{}],"pRac":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("q")),t=r(require("spark-md5"));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(r,i){var a=e.default.defer(),n=new FileReader,o=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,l=new t.default,u=Math.ceil(r.size/i),s=0,d=(new Date).getTime();function c(){var e=s*i,t=Math.min(e+i,r.size);n.readAsBinaryString(o.call(r,e,t))}return n.onload=function(e){s+=1,a.notify({currentPart:s,totalParts:u});var t=e.target.result;l.appendBinary(t),s<u?c():a.resolve({hashResult:l.end(),duration:(new Date).getTime()-d})},n.onerror=function(e){a.reject(e)},c(),a.promise};exports.default=i;
},{"q":"7vFl","spark-md5":"13nb"}],"81o6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./readMd5"));function n(t){return t&&t.__esModule?t:{default:t}}var e=function(n){function e(t,n){return fetch("https://v0.api.upyun.com/"+n,{method:"POST",body:t}).then(function(t){return t.json()})}var a=10*Math.pow(1024,2);return(0,t.default)(n,a).then(function(t){return fetch("/api/storage/signature?contentLength=".concat(n.size,"&md5=").concat(t.hashResult,"&fileName=").concat(n.name)).then(function(t){return t.json()}).then(function(a){var u=a.status,o=a.data,r=a.msg;if(!u){var i=new FormData,c=o.id,s=o.bucketname,d=o.policy,f=o.authorization;return c?{finishData:{status:u,data:o}}:(i.append("authorization",f),i.append("policy",d),i.append("file",n),{md5:t.hashResult,upyunFunc:e.bind(null,i,s)})}alert(r)})},function(t){console.log(t)},function(t){})};exports.default=e;
},{"./readMd5":"pRac"}],"HYKS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../global/js/utilities"),e=i(require("../../global/js/editor")),a=i(require("../../global/js/tagEdit")),n=i(require("../../global/js/ufload"));function i(t){return t&&t.__esModule?t:{default:t}}var l=function(){(0,t.bindFormSubmit)("#write-article-form",{stopAutoSubmit:!0,submitBtn:"#write-article-btn",beforeSubmit:function(){$("[name=blogId]",this).val($("input[name=blog]:checked").val())}}),(0,e.default)("textarea[name=text]"),(0,a.default)("input[name=tags]"),$("[data-create-blog-name-btn]").click(function(){$("[data-create-blog-name-input]").toggleClass("d-none")}),(0,t.bindFormSubmit)("[data-create-blog-name-form]",{callback:function(t){var e=$('<div class="form-check mt-2">\n      <input class="form-check-input" type="radio" name="blog" id="select-no-blog" value="'.concat(t.id,'" checked>\n      <label class="form-check-label" for="select-no-blog">').concat(t.name,"</label>\n  </div>")).appendTo("[data-blog-name-list]");$("input",e).prop("checked",!0),this.remove()}});var i=$(".files-list"),l=$("#upload-file-btn");function o(){$("#upload-file").val(""),$(this).parent().parent().remove(),i.toggleClass("d-none",0==$("tbody tr",i).length),l.parent().toggleClass("d-none",10==$("tbody tr",i).length)}$("td a.text-danger",i).click(o),l.parent().toggleClass("d-none",10==$("tbody tr",i).length),$("#upload-file").change(function(){if(0!==this.files.length){var t=this.files[0],e=new FormData,a=$("<tr>\n        <td>".concat(t.name,'</td>\n        <td>上传中 <i class="far fa-spinner spinner-border-new"></i></td>\n        <td>&nbsp;</td>\n      </tr>')).appendTo(i);i.removeClass("d-none"),l.parent().toggleClass("d-none",10==$("tbody tr",i).length),(0,n.default)(t).then(function(a){var n=a.md5,i=a.upyunFunc,l=a.finishData;l?d(l.status,l.data):i().then(function(a){var i=a.mimetype,l=a.file_size,o=a.url;e.append("md5",n),e.append("fileName",t.name),e.append("path",o),e.append("size",l),e.append("type",i),$.ajax({url:"/api/article/file",method:"POST",data:e,processData:!1,contentType:!1,success:function(t){d(t.status,t.data)}})})})}function d(t,e){t||0!=$("input[value=".concat(e.id,"]")).length?a.remove():(a.html('\n                  <td><a href="'.concat(e.url,'" target="_blank">').concat(e.name,"</a></td>\n                  <td>").concat(e.bytes,'</td>\n                  <td class="nav-item dropdown limitDropdown">\n                      <input name="limits[]" value="login" type="hidden">\n                      <a class="limit" style="text-decoration: none" data-limit="login" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                          <span class="limit-text">登录后下载</span>\n                          <i class="fas fa-caret-down ml-1"></i>\n                      </a>\n                      <div class="dropdown-menu dropdown-menu-right">\n                          <a class="dropdown-item" href="javascript:;" data-value="login">登录后下载</a>\n                          <a class="dropdown-item" href="javascript:;" data-value="limit_user">指定用户下载</a>\n                      </div>\n                  </td>\n                  <td>\n                    <a class="text-danger" href="javascritp:;">移除</a>\n                    <input name="files[]" type="hidden" value="').concat(e.id,'">\n                  </td>\n                ')),$("td a.text-danger",a).click(o)),l.parent().toggleClass("d-none",10==$("tbody tr",i).length)}}),$(document).on("click",".limitDropdown .dropdown-item",function(){var t=$(this).data("value"),e=$(this).text();$(this).parents(".limitDropdown").find('[name="limits[]"]').val(t),$(this).parents(".limitDropdown").find("a.limit .limit-text").text(e)})};exports.default=l;
},{"../../global/js/utilities":"1ZCL","../../global/js/editor":"cHZF","../../global/js/tagEdit":"78z0","../../global/js/ufload":"81o6"}],"jnmz":[function(require,module,exports) {
var define;
var t;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(e,n){"object"==("undefined"==typeof exports?"undefined":r(exports))&&"object"==("undefined"==typeof module?"undefined":r(module))?module.exports=n():"function"==typeof t&&t.amd?t("kjua",[],n):"object"==("undefined"==typeof exports?"undefined":r(exports))?exports.kjua=n():e.kjua=n()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==r(t)&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(r){return t[r]}.bind(null,i));return o},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="",n(n.s=0)}([function(t,r,e){var n=e(1),o=n.create_canvas,i=n.canvas_to_img,u=n.dpr,a=e(3),f=e(4),c=e(6);t.exports=function(t){var r=Object.assign({},a,t),e=f(r.text,r.ecLevel,r.minVersion,r.quiet),n=r.ratio||u,l=o(r.size,n),s=l.getContext("2d");return s.scale(n,n),c(e,s,r),"image"===r.render?i(l):l}},function(t,r,e){(function(r){function e(t){return u.createElement(t)}function n(t,r){return t.getAttribute(r)}function o(t,r,e){return t.setAttribute(r,e)}var i=r.window,u=i.document,a=i.devicePixelRatio||1;t.exports={create_canvas:function(t,r){var n=e("canvas");return o(n,"width",t*r),o(n,"height",t*r),n.style.width="".concat(t,"px"),n.style.height="".concat(t,"px"),n},canvas_to_img:function(t){var r=e("img");return o(r,"crossorigin","anonymous"),o(r,"src",t.toDataURL("image/png")),o(r,"width",n(t,"width")),o(r,"height",n(t,"height")),r.style.width=t.style.width,r.style.height=t.style.height,r},dpr:a}}).call(this,e(2))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,r){t.exports={render:"image",crisp:!0,minVersion:1,ecLevel:"L",size:200,ratio:null,fill:"#333",back:"#fff",text:"no text",rounded:0,quiet:0,mode:"plain",mSize:30,mPosX:50,mPosY:50,label:"no label",fontname:"sans",fontcolor:"#333",image:null}},function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}var i=/code length overflow/i,u=n(5);u.stringToBytes=u.stringToBytesFuncs["UTF-8"],t.exports=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"L",e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=function(t,r){for(var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=e=Math.max(1,e);n<=40;n+=1)try{var a=function(){var e=u(n,r);e.addData(t),e.make();var o=e.getModuleCount();return{v:{text:t,level:r,version:n,moduleCount:o,isDark:function(t,r){return 0<=t&&t<o&&0<=r&&r<o&&e.isDark(t,r)}}}}();if("object"===o(a))return a.v}catch(t){if(!(n<40&&i.test(t)))throw new Error(t)}return null}(t,r,e);if(a){var f=a.isDark;a.moduleCount+=2*n,a.isDark=function(t,r){return f(t-n,r-n)}}return a}},function(t,e,n){var o,i,u=function(){function t(t,o){function u(t,r){v=function(t){for(var r=new Array(t),e=0;e<t;e+=1){r[e]=new Array(t);for(var n=0;n<t;n+=1)r[e][n]=null}return r}(y=4*a+17),k(0,0),k(y-7,0),k(0,y-7),x(),B(),S(t,r),7<=a&&C(t),null==w&&(w=M(a,f,m)),A(w,r)}var a=t,f=e[o],v=null,y=0,w=null,m=[],b={},k=function(t,r){for(var e=-1;e<=7;e+=1)if(!(t+e<=-1||y<=t+e))for(var n=-1;n<=7;n+=1)r+n<=-1||y<=r+n||(v[t+e][r+n]=0<=e&&e<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==e||6==e)||2<=e&&e<=4&&2<=n&&n<=4)},B=function(){for(var t=8;t<y-8;t+=1)null==v[t][6]&&(v[t][6]=t%2==0);for(var r=8;r<y-8;r+=1)null==v[6][r]&&(v[6][r]=r%2==0)},x=function(){for(var t=n.getPatternPosition(a),r=0;r<t.length;r+=1)for(var e=0;e<t.length;e+=1){var o=t[r],i=t[e];if(null==v[o][i])for(var u=-2;u<=2;u+=1)for(var f=-2;f<=2;f+=1)v[o+u][i+f]=-2==u||2==u||-2==f||2==f||0==u&&0==f}},C=function(t){for(var r=n.getBCHTypeNumber(a),e=0;e<18;e+=1){var o=!t&&1==(r>>e&1);v[Math.floor(e/3)][e%3+y-8-3]=o}for(e=0;e<18;e+=1)o=!t&&1==(r>>e&1),v[e%3+y-8-3][Math.floor(e/3)]=o},S=function(t,r){for(var e=f<<3|r,o=n.getBCHTypeInfo(e),i=0;i<15;i+=1){var u=!t&&1==(o>>i&1);i<6?v[i][8]=u:i<8?v[i+1][8]=u:v[y-15+i][8]=u}for(i=0;i<15;i+=1)u=!t&&1==(o>>i&1),i<8?v[8][y-i-1]=u:i<9?v[8][15-i-1+1]=u:v[8][15-i-1]=u;v[y-8][8]=!t},A=function(t,r){for(var e=-1,o=y-1,i=7,u=0,a=n.getMaskFunction(r),f=y-1;0<f;f-=2)for(6==f&&(f-=1);;){for(var c=0;c<2;c+=1)if(null==v[o][f-c]){var l=!1;u<t.length&&(l=1==(t[u]>>>i&1)),a(o,f-c)&&(l=!l),v[o][f-c]=l,-1==(i-=1)&&(u+=1,i=7)}if((o+=e)<0||y<=o){o-=e,e=-e;break}}},M=function(t,r,e){for(var o=c.getRSBlocks(t,r),u=l(),a=0;a<e.length;a+=1){var f=e[a];u.put(f.getMode(),4),u.put(f.getLength(),n.getLengthInBits(f.getMode(),t)),f.write(u)}var s=0;for(a=0;a<o.length;a+=1)s+=o[a].dataCount;if(u.getLengthInBits()>8*s)throw"code length overflow. ("+u.getLengthInBits()+">"+8*s+")";for(u.getLengthInBits()+4<=8*s&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;!(u.getLengthInBits()>=8*s||(u.put(236,8),u.getLengthInBits()>=8*s));)u.put(17,8);return function(t,r){for(var e=0,o=0,u=0,a=new Array(r.length),f=new Array(r.length),c=0;c<r.length;c+=1){var l=r[c].dataCount,s=r[c].totalCount-l;o=Math.max(o,l),u=Math.max(u,s),a[c]=new Array(l);for(var g=0;g<a[c].length;g+=1)a[c][g]=255&t.getBuffer()[g+e];e+=l;var h=n.getErrorCorrectPolynomial(s),d=i(a[c],h.getLength()-1).mod(h);for(f[c]=new Array(h.getLength()-1),g=0;g<f[c].length;g+=1){var v=g+d.getLength()-f[c].length;f[c][g]=0<=v?d.getAt(v):0}}var p=0;for(g=0;g<r.length;g+=1)p+=r[g].totalCount;var y=new Array(p),w=0;for(g=0;g<o;g+=1)for(c=0;c<r.length;c+=1)g<a[c].length&&(y[w]=a[c][g],w+=1);for(g=0;g<u;g+=1)for(c=0;c<r.length;c+=1)g<f[c].length&&(y[w]=f[c][g],w+=1);return y}(u,o)};return b.addData=function(t,r){var e=null;switch(r=r||"Byte"){case"Numeric":e=s(t);break;case"Alphanumeric":e=g(t);break;case"Byte":e=h(t);break;case"Kanji":e=d(t);break;default:throw"mode:"+r}m.push(e),w=null},b.isDark=function(t,r){if(t<0||y<=t||r<0||y<=r)throw t+","+r;return v[t][r]},b.getModuleCount=function(){return y},b.make=function(){if(a<1){for(var t=1;t<40;t++){for(var r=c.getRSBlocks(t,f),e=l(),o=0;o<m.length;o++){var i=m[o];e.put(i.getMode(),4),e.put(i.getLength(),n.getLengthInBits(i.getMode(),t)),i.write(e)}var s=0;for(o=0;o<r.length;o++)s+=r[o].dataCount;if(e.getLengthInBits()<=8*s)break}a=t}u(!1,function(){for(var t=0,r=0,e=0;e<8;e+=1){u(!0,e);var o=n.getLostPoint(b);(0==e||o<t)&&(t=o,r=e)}return r}())},b.createTableTag=function(t,r){t=t||2;var e="";e+='<table style="',e+=" border-width: 0px; border-style: none;",e+=" border-collapse: collapse;",e+=" padding: 0px; margin: "+(r=void 0===r?4*t:r)+"px;",e+='">',e+="<tbody>";for(var n=0;n<b.getModuleCount();n+=1){e+="<tr>";for(var o=0;o<b.getModuleCount();o+=1)e+='<td style="',e+=" border-width: 0px; border-style: none;",e+=" border-collapse: collapse;",e+=" padding: 0px; margin: 0px;",e+=" width: "+t+"px;",e+=" height: "+t+"px;",e+=" background-color: ",e+=b.isDark(n,o)?"#000000":"#ffffff",e+=";",e+='"/>';e+="</tr>"}return(e+="</tbody>")+"</table>"},b.createSvgTag=function(t,e){var n={};"object"==r(t)&&(t=(n=t).cellSize,e=n.margin),t=t||2,e=void 0===e?4*t:e;var o,i,u,a,f=b.getModuleCount()*t+2*e,c="";for(a="l"+t+",0 0,"+t+" -"+t+",0 0,-"+t+"z ",c+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',c+=n.scalable?"":' width="'+f+'px" height="'+f+'px"',c+=' viewBox="0 0 '+f+" "+f+'" ',c+=' preserveAspectRatio="xMinYMin meet">',c+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',c+='<path d="',i=0;i<b.getModuleCount();i+=1)for(u=i*t+e,o=0;o<b.getModuleCount();o+=1)b.isDark(i,o)&&(c+="M"+(o*t+e)+","+u+a);return(c+='" stroke="transparent" fill="black"/>')+"</svg>"},b.createDataURL=function(t,r){t=t||2,r=void 0===r?4*t:r;var e=b.getModuleCount()*t+2*r,n=r,o=e-r;return p(e,e,function(r,e){if(n<=r&&r<o&&n<=e&&e<o){var i=Math.floor((r-n)/t),u=Math.floor((e-n)/t);return b.isDark(u,i)?0:1}return 1})},b.createImgTag=function(t,r,e){t=t||2,r=void 0===r?4*t:r;var n=b.getModuleCount()*t+2*r,o="";return o+="<img",o+=' src="',o+=b.createDataURL(t,r),o+='"',o+=' width="',o+=n,o+='"',o+=' height="',o+=n,o+='"',e&&(o+=' alt="',o+=e,o+='"'),o+"/>"},b.createASCII=function(t,r){if((t=t||1)<2)return function(t){t=void 0===t?2:t;var r,e,n,o,i,u=1*b.getModuleCount()+2*t,a=t,f=u-t,c={"██":"█","█ ":"▀"," █":"▄","  ":" "},l={"██":"▀","█ ":"▀"," █":" ","  ":" "},s="";for(r=0;r<u;r+=2){for(n=Math.floor((r-a)/1),o=Math.floor((r+1-a)/1),e=0;e<u;e+=1)i="█",a<=e&&e<f&&a<=r&&r<f&&b.isDark(n,Math.floor((e-a)/1))&&(i=" "),a<=e&&e<f&&a<=r+1&&r+1<f&&b.isDark(o,Math.floor((e-a)/1))?i+=" ":i+="█",s+=t<1&&f<=r+1?l[i]:c[i];s+="\n"}return u%2&&0<t?s.substring(0,s.length-u-1)+Array(1+u).join("▀"):s.substring(0,s.length-1)}(r);t-=1,r=void 0===r?2*t:r;var e,n,o,i,u=b.getModuleCount()*t+2*r,a=r,f=u-r,c=Array(t+1).join("██"),l=Array(t+1).join("  "),s="",g="";for(e=0;e<u;e+=1){for(o=Math.floor((e-a)/t),g="",n=0;n<u;n+=1)i=1,a<=n&&n<f&&a<=e&&e<f&&b.isDark(o,Math.floor((n-a)/t))&&(i=0),g+=i?c:l;for(o=0;o<t;o+=1)s+=g+"\n"}return s.substring(0,s.length-1)},b.renderTo2dContext=function(t,r){r=r||2;for(var e=b.getModuleCount(),n=0;n<e;n++)for(var o=0;o<e;o++)t.fillStyle=b.isDark(n,o)?"black":"white",t.fillRect(n*r,o*r,r,r)},b}t.stringToBytes=(t.stringToBytesFuncs={default:function(t){for(var r=[],e=0;e<t.length;e+=1){var n=t.charCodeAt(e);r.push(255&n)}return r}}).default,t.createStringToBytes=function(t,r){var e=function(){function e(){var t=n.read();if(-1==t)throw"eof";return t}for(var n=v(t),o=0,i={};;){var u=n.read();if(-1==u)break;var a=e(),f=e()<<8|e();i[String.fromCharCode(u<<8|a)]=f,o+=1}if(o!=r)throw o+" != "+r;return i}(),n="?".charCodeAt(0);return function(t){for(var r=[],o=0;o<t.length;o+=1){var i=t.charCodeAt(o);if(i<128)r.push(i);else{var u=e[t.charAt(o)];"number"==typeof u?(255&u)==u?r.push(u):(r.push(u>>>8),r.push(255&u)):r.push(n)}}return r}};var e={L:1,M:0,Q:3,H:2},n=function(){function t(t){for(var r=0;0!=t;)r+=1,t>>>=1;return r}var r=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],e={getBCHTypeInfo:function(r){for(var e=r<<10;0<=t(e)-t(1335);)e^=1335<<t(e)-t(1335);return 21522^(r<<10|e)},getBCHTypeNumber:function(r){for(var e=r<<12;0<=t(e)-t(7973);)e^=7973<<t(e)-t(7973);return r<<12|e},getPatternPosition:function(t){return r[t-1]},getMaskFunction:function(t){switch(t){case 0:return function(t,r){return(t+r)%2==0};case 1:return function(t,r){return t%2==0};case 2:return function(t,r){return r%3==0};case 3:return function(t,r){return(t+r)%3==0};case 4:return function(t,r){return(Math.floor(t/2)+Math.floor(r/3))%2==0};case 5:return function(t,r){return t*r%2+t*r%3==0};case 6:return function(t,r){return(t*r%2+t*r%3)%2==0};case 7:return function(t,r){return(t*r%3+(t+r)%2)%2==0};default:throw"bad maskPattern:"+t}},getErrorCorrectPolynomial:function(t){for(var r=i([1],0),e=0;e<t;e+=1)r=r.multiply(i([1,o.gexp(e)],0));return r},getLengthInBits:function(t,r){if(1<=r&&r<10)switch(t){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+t}else if(r<27)switch(t){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+t}else{if(!(r<41))throw"type:"+r;switch(t){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+t}}},getLostPoint:function(t){for(var r=t.getModuleCount(),e=0,n=0;n<r;n+=1)for(var o=0;o<r;o+=1){for(var i=0,u=t.isDark(n,o),a=-1;a<=1;a+=1)if(!(n+a<0||r<=n+a))for(var f=-1;f<=1;f+=1)o+f<0||r<=o+f||0==a&&0==f||u==t.isDark(n+a,o+f)&&(i+=1);5<i&&(e+=3+i-5)}for(n=0;n<r-1;n+=1)for(o=0;o<r-1;o+=1){var c=0;t.isDark(n,o)&&(c+=1),t.isDark(n+1,o)&&(c+=1),t.isDark(n,o+1)&&(c+=1),t.isDark(n+1,o+1)&&(c+=1),0!=c&&4!=c||(e+=3)}for(n=0;n<r;n+=1)for(o=0;o<r-6;o+=1)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(e+=40);for(o=0;o<r;o+=1)for(n=0;n<r-6;n+=1)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(e+=40);var l=0;for(o=0;o<r;o+=1)for(n=0;n<r;n+=1)t.isDark(n,o)&&(l+=1);return e+Math.abs(100*l/r/r-50)/5*10}};return e}(),o=function(){for(var t=new Array(256),r=new Array(256),e=0;e<8;e+=1)t[e]=1<<e;for(e=8;e<256;e+=1)t[e]=t[e-4]^t[e-5]^t[e-6]^t[e-8];for(e=0;e<255;e+=1)r[t[e]]=e;return{glog:function(t){if(t<1)throw"glog("+t+")";return r[t]},gexp:function(r){for(;r<0;)r+=255;for(;256<=r;)r-=255;return t[r]}}}();function i(t,r){if(void 0===t.length)throw t.length+"/"+r;var e=function(){for(var e=0;e<t.length&&0==t[e];)e+=1;for(var n=new Array(t.length-e+r),o=0;o<t.length-e;o+=1)n[o]=t[o+e];return n}(),n={getAt:function(t){return e[t]},getLength:function(){return e.length},multiply:function(t){for(var r=new Array(n.getLength()+t.getLength()-1),e=0;e<n.getLength();e+=1)for(var u=0;u<t.getLength();u+=1)r[e+u]^=o.gexp(o.glog(n.getAt(e))+o.glog(t.getAt(u)));return i(r,0)},mod:function(t){if(n.getLength()-t.getLength()<0)return n;for(var r=o.glog(n.getAt(0))-o.glog(t.getAt(0)),e=new Array(n.getLength()),u=0;u<n.getLength();u+=1)e[u]=n.getAt(u);for(u=0;u<t.getLength();u+=1)e[u]^=o.gexp(o.glog(t.getAt(u))+r);return i(e,0).mod(t)}};return n}function u(){var t=[],r={writeByte:function(r){t.push(255&r)},writeShort:function(t){r.writeByte(t),r.writeByte(t>>>8)},writeBytes:function(t,e,n){e=e||0,n=n||t.length;for(var o=0;o<n;o+=1)r.writeByte(t[o+e])},writeString:function(t){for(var e=0;e<t.length;e+=1)r.writeByte(t.charCodeAt(e))},toByteArray:function(){return t},toString:function(){var r="";r+="[";for(var e=0;e<t.length;e+=1)0<e&&(r+=","),r+=t[e];return r+"]"}};return r}var a,f,c=(a=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],(f={}).getRSBlocks=function(t,r){var n=function(t,r){switch(r){case e.L:return a[4*(t-1)+0];case e.M:return a[4*(t-1)+1];case e.Q:return a[4*(t-1)+2];case e.H:return a[4*(t-1)+3];default:return}}(t,r);if(void 0===n)throw"bad rs block @ typeNumber:"+t+"/errorCorrectionLevel:"+r;for(var o,i,u=n.length/3,f=[],c=0;c<u;c+=1)for(var l=n[3*c+0],s=n[3*c+1],g=n[3*c+2],h=0;h<l;h+=1)f.push((o=g,i=void 0,(i={}).totalCount=s,i.dataCount=o,i));return f},f),l=function(){var t=[],r=0,e={getBuffer:function(){return t},getAt:function(r){var e=Math.floor(r/8);return 1==(t[e]>>>7-r%8&1)},put:function(t,r){for(var n=0;n<r;n+=1)e.putBit(1==(t>>>r-n-1&1))},getLengthInBits:function(){return r},putBit:function(e){var n=Math.floor(r/8);t.length<=n&&t.push(0),e&&(t[n]|=128>>>r%8),r+=1}};return e},s=function(t){var r=t,e={getMode:function(){return 1},getLength:function(t){return r.length},write:function(t){for(var e=r,o=0;o+2<e.length;)t.put(n(e.substring(o,o+3)),10),o+=3;o<e.length&&(e.length-o==1?t.put(n(e.substring(o,o+1)),4):e.length-o==2&&t.put(n(e.substring(o,o+2)),7))}},n=function(t){for(var r=0,e=0;e<t.length;e+=1)r=10*r+o(t.charAt(e));return r},o=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+t};return e},g=function(t){var r=t,e={getMode:function(){return 2},getLength:function(t){return r.length},write:function(t){for(var e=r,o=0;o+1<e.length;)t.put(45*n(e.charAt(o))+n(e.charAt(o+1)),11),o+=2;o<e.length&&t.put(n(e.charAt(o)),6)}},n=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if("A"<=t&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return e},h=function(r){var e=t.stringToBytes(r);return{getMode:function(){return 4},getLength:function(t){return e.length},write:function(t){for(var r=0;r<e.length;r+=1)t.put(e[r],8)}}},d=function(r){var e=t.stringToBytesFuncs.SJIS;if(!e)throw"sjis not supported.";!function(t,r){var n=e("友");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported."}();var n=e(r);return{getMode:function(){return 8},getLength:function(t){return~~(n.length/2)},write:function(t){for(var r=n,e=0;e+1<r.length;){var o=(255&r[e])<<8|255&r[e+1];if(33088<=o&&o<=40956)o-=33088;else{if(!(57408<=o&&o<=60351))throw"illegal char at "+(e+1)+"/"+o;o-=49472}o=192*(o>>>8&255)+(255&o),t.put(o,13),e+=2}if(e<r.length)throw"illegal char at "+(e+1)}}},v=function(t){var r=t,e=0,n=0,o=0,i={read:function(){for(;o<8;){if(e>=r.length){if(0==o)return-1;throw"unexpected end of file./"+o}var t=r.charAt(e);if(e+=1,"="==t)return o=0,-1;t.match(/^\s$/)||(n=n<<6|u(t.charCodeAt(0)),o+=6)}var i=n>>>o-8&255;return o-=8,i}},u=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw"c:"+t};return i},p=function(t,r,e){for(var n=function(t,r){var e=t,n=r,o=new Array(t*r),i={setPixel:function(t,r,n){o[r*e+t]=n},write:function(t){t.writeString("GIF87a"),t.writeShort(e),t.writeShort(n),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(e),t.writeShort(n),t.writeByte(0);var r=a(2);t.writeByte(2);for(var o=0;255<r.length-o;)t.writeByte(255),t.writeBytes(r,o,255),o+=255;t.writeByte(r.length-o),t.writeBytes(r,o,r.length-o),t.writeByte(0),t.writeString(";")}},a=function(t){for(var r=1<<t,e=1+(1<<t),n=t+1,i=f(),a=0;a<r;a+=1)i.add(String.fromCharCode(a));i.add(String.fromCharCode(r)),i.add(String.fromCharCode(e));var c=u(),l=function(t){var r=c,e=0,n=0;return{write:function(t,o){if(t>>>o!=0)throw"length over";for(;8<=e+o;)r.writeByte(255&(t<<e|n)),o-=8-e,t>>>=8-e,e=n=0;n|=t<<e,e+=o},flush:function(){0<e&&r.writeByte(n)}}}();l.write(r,n);var s=0,g=String.fromCharCode(o[s]);for(s+=1;s<o.length;){var h=String.fromCharCode(o[s]);s+=1,i.contains(g+h)?g+=h:(l.write(i.indexOf(g),n),i.size()<4095&&(i.size()==1<<n&&(n+=1),i.add(g+h)),g=h)}return l.write(i.indexOf(g),n),l.write(e,n),l.flush(),c.toByteArray()},f=function(){var t={},r=0,e={add:function(n){if(e.contains(n))throw"dup key:"+n;t[n]=r,r+=1},size:function(){return r},indexOf:function(r){return t[r]},contains:function(r){return void 0!==t[r]}};return e};return i}(t,r),o=0;o<r;o+=1)for(var i=0;i<t;i+=1)n.setPixel(i,o,e(i,o));var a=u();n.write(a);for(var f=function(){function t(t){o+=String.fromCharCode(u(63&t))}var r=0,e=0,n=0,o="",i={},u=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw"n:"+t};return i.writeByte=function(o){for(r=r<<8|255&o,e+=8,n+=1;6<=e;)t(r>>>e-6),e-=6},i.flush=function(){if(0<e&&(t(r<<6-e),e=r=0),n%3!=0)for(var i=3-n%3,u=0;u<i;u+=1)o+="="},i.toString=function(){return o},i}(),c=a.toByteArray(),l=0;l<c.length;l+=1)f.writeByte(c[l]);return f.flush(),"data:image/gif;base64,"+f};return t}();u.stringToBytesFuncs["UTF-8"]=function(t){return function(t){for(var r=[],e=0;e<t.length;e++){var n=t.charCodeAt(e);n<128?r.push(n):n<2048?r.push(192|n>>6,128|63&n):n<55296||57344<=n?r.push(224|n>>12,128|n>>6&63,128|63&n):(e++,n=65536+((1023&n)<<10|1023&t.charCodeAt(e)),r.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return r}(t)},void 0===(i="function"==typeof(o=function(){return u})?o.apply(e,[]):o)||(t.exports=i)},function(t,r,e){function n(t,r,e,n,o,i){t.isDark(o,i)&&r.rect(i*n,o*n,n,n)}var o=e(7),i=e(8);t.exports=function(t,r,e){!function(t,r){t.fillStyle=r.back,t.fillRect(0,0,r.size,r.size)}(r,e),function(t,r,e){if(t){var i=0<e.rounded&&e.rounded<=100?o:n,u=t.moduleCount,a=e.size/u,f=0;e.crisp&&(a=Math.floor(a),f=Math.floor((e.size-a*u)/2)),r.translate(f,f),r.beginPath();for(var c=0;c<u;c+=1)for(var l=0;l<u;l+=1)i(t,r,e,a,c,l);r.fillStyle=e.fill,r.fill(),r.translate(-f,-f)}}(t,r,e),i(r,e)}},function(t,r){t.exports=function(t,r,e,n,o,i){var u=i*n,a=o*n,f=u+n,c=a+n,l=.005*e.rounded*n,s=t.isDark,g=o-1,h=o+1,d=i-1,v=i+1,p=s(o,i),y=s(g,d),w=s(g,i),m=s(g,v),b=s(o,v),k=s(h,v),B=s(h,i),x=s(h,d),C=s(o,d);r={c:r,m:function(){var t;return(t=this.c).moveTo.apply(t,arguments),this},l:function(){var t;return(t=this.c).lineTo.apply(t,arguments),this},a:function(){var t;return(t=this.c).arcTo.apply(t,arguments),this}},p?function(t,r,e,n,o,i,u,a,f,c){u?t.m(r+i,e):t.m(r,e),a?t.l(n-i,e).a(n,e,n,o,i):t.l(n,e),f?t.l(n,o-i).a(n,o,r,o,i):t.l(n,o),c?t.l(r+i,o).a(r,o,r,e,i):t.l(r,o),u?t.l(r,e+i).a(r,e,n,e,i):t.l(r,e)}(r,u,a,f,c,l,!w&&!C,!w&&!b,!B&&!b,!B&&!C):function(t,r,e,n,o,i,u,a,f,c){w&&C&&y&&t.m(r+i,e).l(r,e).l(r,e+i).a(r,e,r+i,e,i),a&&t.m(n-i,e).l(n,e).l(n,e+i).a(n,e,n-i,e,i),f&&t.m(n-i,o).l(n,o).l(n,o-i).a(n,o,n-i,o,i),c&&t.m(r+i,o).l(r,o).l(r,o-i).a(r,o,r+i,o,i)}(r,u,a,f,c,l,0,w&&b&&m,B&&b&&k,B&&C&&x)}},function(t,r){t.exports=function(t,r){var e=r.mode;"label"===e?function(t,r){var e=r.size,n="bold "+.01*r.mSize*e+"px "+r.fontname;t.strokeStyle=r.back,t.lineWidth=.01*r.mSize*e*.1,t.fillStyle=r.fontcolor,t.font=n;var o=t.measureText(r.label).width,i=.01*r.mSize,u=(1-o/e)*r.mPosX*.01*e,a=(1-i)*r.mPosY*.01*e+.75*r.mSize*.01*e;t.strokeText(r.label,u,a),t.fillText(r.label,u,a)}(t,r):"image"===e&&function(t,r){var e=r.size,n=r.image.naturalWidth||1,o=r.image.naturalHeight||1,i=.01*r.mSize,u=i*n/o,a=(1-u)*r.mPosX*.01*e,f=(1-i)*r.mPosY*.01*e,c=u*e,l=i*e;t.drawImage(r.image,a,f,c,l)}(t,r)}}])});
},{}],"iNgO":[function(require,module,exports) {
var define;
var t;!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof t&&t.amd?t([],n):"object"==typeof exports?exports.ClipboardJS=n():e.ClipboardJS=n()}(this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(t),r.removeAllRanges(),r.addRange(o),e=r.toString()}return e}},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function o(){r.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,a=r.length;i<a;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}},t.exports=n,t.exports.TinyEmitter=n},function(t,e,n){var r=n(3),o=n(4);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(t))return function(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}(t,e,n);if(r.nodeList(t))return function(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}(t,e,n);if(r.string(t))return function(t,e,n){return o(document.body,t,e,n)}(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(5);function o(t,e,n,o,i){var a=function(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&o.call(t,n)}}.apply(this,arguments);return t.addEventListener(n,a,i),{destroy:function(){t.removeEventListener(n,a,i)}}}t.exports=function(t,e,n,r,i){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return o(t,e,n,r,i)}))}},function(t,e){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=function(t,e){for(;t&&t.nodeType!==n;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=o()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=o()(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}(),u=n(1),l=n.n(u),s=n(2),f=n.n(s),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var p=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.resolveOptions(n),r.listenClick(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.a),h(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===d(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=f()(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return y("action",t)}},{key:"defaultTarget",value:function(t){var e=y("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return y("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}();function y(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}e.default=p}]).default});
},{}],"nvWk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("kjua")),a=t(require("clipboard"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-share-url]";$(t).each(function(){var t=$(this),r=t.data(),i=r.shareUrl,o=r.shareTitle,n=r.qrDirect,s="share-"+Math.ceil(1e7*Math.random()),c=$('\n      <a href="#" role="button" id="'.concat(s,'" data-toggle="dropdown"\n        aria-haspopup="true" aria-expanded="false">\n        <i class="far fa-share-alt"></i>\n      </a>\n\n      <div class="dropdown-menu" aria-labelledby="').concat(s,'">\n        <a class="dropdown-item share-link" data-clipboard-text="').concat(GLOBAL.actionBase+i,'" href="javascript:;"><i class="far fa-link mr-2 text-secondary"></i>复制链接</a>\n        <a class="dropdown-item share-weibo" href="javascript:;"><i class="fab fa-weibo mr-2 text-danger"></i>新浪微博</a>\n        <a class="dropdown-item share-weixin" href="javascript:;"><i class="fab fa-weixin mr-2 text-success"></i>微信扫一扫</a>\n      </div>')).appendTo(t);$(".share-weixin",c).popover({trigger:"hover",html:!0,sanitize:!1,placement:n||"top",content:(0,e.default)({text:GLOBAL.actionBase+i})}),$(".share-weibo",c).click(function(){var e=encodeURIComponent(i),a="http://service.weibo.com/share/share.php?title=".concat(o,"&url=").concat(e,"&appKey=1742025894&searchPic=true");window.open(a,"_blank","toolbar=no,scrollbars=yes,resizable=yes,top=0,left=0,width=600,height=400")}),new a.default($(".share-link",this).get(0)).on("success",function(){t.tooltip({trigger:"manual",title:"链接已复制"}),t.tooltip("show"),setTimeout(function(){t.tooltip("dispose")},1e3)})})};exports.default=r;
},{"kjua":"jnmz","clipboard":"iNgO"}],"LkMz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=$(t),o=$('<div class="list-group position-absolute bg-white d-none"></div>'),i=$('<input name="'.concat(n,'" type="hidden" value="" class="form-control">')),s=e?$(e):null;l.wrap('<div class="d-inline position-relative"></div>').after(o.css("width",l.outerWidth()).css("z-index",1e3)).after(i).attr("autocomplete","off").attr("autofill","off");var r=[];function c(t){if(!(r.indexOf(t.id)>=0)){var n=$('<div class="btn-group" role="group">\n      <a href="'.concat(t.url,'" target="_blank" class="btn btn-light">\n        ').concat(t.name,'<small class="text-muted ml-2">@').concat(t.slug,'</small>\n      </a>\n      <button type="button" class="btn btn-light btn-close">\n        <i class="far fa-times"></i>\n      </button>\n    </div>'));$(".btn-close",n).click(function(){l.removeClass("d-none"),n.remove(),r=r.filter(function(n){return n!=t.id}),i.val(r.join(","))}),r.push(t.id),s?n.addClass("mr-2 mb-2").appendTo(s):(l.addClass("d-none"),n.insertAfter(l)),l.val(""),i.val(r.join(",")),o.addClass("d-none")}}function u(t){$('<a class="list-group-item list-group-item-action" href="###">\n      <img width="24" height="24" src="'.concat(t.avatarUrl,'" class="rounded-circle mr-2">').concat(t.name,'<small class="text-muted ml-2">@').concat(t.slug,"</small>\n    </a>")).appendTo(o).click(function(){c(t)})}a&&a.forEach(c),l.keydown(function(t){var n=$(".active",o),e=null;if("ArrowUp"==t.key){if(e=$("a:last-child",o),n.length>0){var a=n.prev();a.length>0&&(e=a)}}else{if("ArrowDown"!=t.key)return"Enter"==t.key?(t.preventDefault(),t.stopPropagation(),void n.trigger("click")):void 0;if(e=$("a:first-child",o),n.length>0){var l=n.next();l.length>0&&(e=l)}}n.removeClass("active"),e.addClass("active")});var d=null;l.on("input",function(){d&&(clearTimeout(d),d=null);var t=l.val();i.trigger("input"),null!==t&&0!==t.length?d=setTimeout(function(){clearTimeout(d),d=null,$.get("/api/user/search?q="+encodeURIComponent(t),function(t){var n,e=t.status,a=t.data;e||(n=a,o.html(""),n.length>0&&(n.forEach(u),o.removeClass("d-none")))})},300):o.addClass("d-none")})};exports.default=t;
},{}],"r4Oz":[function(require,module,exports) {
"use strict";var e=d(require("./js/comment")),a=d(require("./js/createBlogName")),t=d(require("./js/articleNav")),i=d(require("./js/write")),n=d(require("../global/js/share")),r=d(require("../global/js/report")),l=d(require("../global/js/template")),s=d(require("../global/js/userSelect")),c=require("../global/js/utilities");function d(e){return e&&e.__esModule?e:{default:e}}require("./index.css"),$(function(){if("index"==GLOBAL.pageName){(0,c.streamLoadMoreOnScroll)("#blogNewArticleStream[data-js-stream-list]",function(e){return e.reduce(function(e,a){return e+(0,l.default)({article:a},'\n          <li class="list-group-item py-3">\n\n            <div class="d-flex align-items-center font-size-14 mb-2">\n                <a class="d-flex align-items-center" href="{{ article.user.url }}">\n                    <picture class="mr-2 d-none d-sm-block">\n                        <img class="d-inline-block rounded-circle" width="24" src="{{ article.user.avatarUrl }}" aria-hidden="true" />\n                    </picture>\n                    <span class="text-body">{{ article.user.name }}</span>\n                </a>\n                <span class="ml-1 text-secondary">· {{ article.createdDate }}</span>\n            </div>\n\n            <a class="ent-link-item text-decoration-none" href="{{ article.url }}">\n                <div class="d-flex justify-content-between position-relative">\n                    <div class="mt-1">\n                        <h3 class="h5 text-body">{{ article.title }}</h3>\n                        <p class="mt-2 mb-0 text-truncate-2 text-secondary">{{ article.excerpt }}</p>\n                    </div>\n                    {% if article.thumbnailUrl %}\n                    <picture class="ml-3 mt-1 d-none d-sm-block">\n                        <div class="rounded list-figure-img" style="background-image: url(\'{{ article.thumbnailUrl }}\')"></div>\n                    </picture>\n                    {% endif %}\n                </div>\n            </a>\n\n            <div class="handle-bar d-flex align-items-center mt-2">\n                <a id="article-like-btn-{{ article.id }}"\n                    data-toggle-button-api="/api/article/{{ article.id }}/vote/up"\n                    data-count-sel="#article-like-btn-{{ article.id }} [data-icon-count-size]"\n                    data-toggle-style="link"\n                    data-state="{{ article.isVote | json_encode }}"\n                    class="mr-4" href="#">\n                    <span><i class="far fa-thumbs-up mr-2"></i><span data-icon-count-size data-count-hidden="true">{{ article.votes }}</span></span>\n                </a>\n\n                <a class="" href="{{ article.url }}#comments">\n                    <span><i class="far fa-comment-alt-lines mr-2"></i>{{ article.comments ? article.comments : \'\' }}</span>\n                </a>\n            </div>\n        </li>\n          ')},"")})}else"detail"==GLOBAL.pageName?((0,r.default)(),(0,t.default)(),(0,e.default)(),(0,n.default)(),(0,s.default)(".invite-user [name=q]","userId"),(0,c.bindFormSubmit)(".invite-user"),$(document).on("click",".downLoadBtn",function(){var e=$("h1.h2 a").text();if(console.log(e),"#"===$(this).attr("href"))return(0,c.confirmPopup)("提示",'您无法下载该文件。</br>如需继续下载，请先 <a target="_blank" href="/download/apply">提交申请</a>'),!1})):"write"==GLOBAL.pageName?(0,i.default)():"setting"==GLOBAL.pageName&&((0,a.default)(),(0,s.default)(".invite-user [name=q]","userId"),(0,c.bindFormSubmit)(".invite-user"),$("[name=avatar]").change(function(){if(0!==this.files.length){var e=this.files[0],a=$("img.setting-avatar"),t=new FormData,i=$("[for=upload-avatar],[id=upload-avatar]").addClass("disabled").attr("disabled","disabled");t.append("avatar",e),$.ajax({url:"/api/blog/"+a.data("id")+"/avatar",method:"POST",data:t,processData:!1,contentType:!1,success:function(e){var t=e.status,n=e.data;i.removeClass("disabled").removeAttr("disabled"),t||a.attr("src",n)}})}}))});
},{"./index.css":"J/8/","./js/comment":"RIul","./js/createBlogName":"z059","./js/articleNav":"JHYh","./js/write":"HYKS","../global/js/share":"nvWk","../global/js/report":"0KJL","../global/js/template":"1YVD","../global/js/userSelect":"LkMz","../global/js/utilities":"1ZCL"}]},{},["r4Oz"], null)